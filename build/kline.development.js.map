{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/internal/ViewPortHandler.js","webpack:///./src/internal/DataBounds.js","webpack:///./src/chart/Chart.js","webpack:///./src/chart/GridChart.js","webpack:///./src/utils/utils.js","webpack:///./src/chart/AxisChart.js","webpack:///./src/component/Indicator.js","webpack:///./src/component/Component.js","webpack:///./src/component/Axis.js","webpack:///./src/component/YAxis.js","webpack:///./src/chart/YAxisChart.js","webpack:///./src/chart/IndicatorChart.js","webpack:///./src/component/Candle.js","webpack:///./src/chart/CandleChart.js","webpack:///./src/chart/XAxisChart.js","webpack:///./src/component/Tooltip.js","webpack:///./src/chart/TooltipChart.js","webpack:///./src/component/XAxis.js","webpack:///./src/component/Grid.js","webpack:///./src/internal/event/Event.js","webpack:///./src/internal/event/MouseEvent.js","webpack:///./src/internal/event/TouchEvent.js","webpack:///./src/utils/indicatorCalculation.js","webpack:///./src/chart/KLineChart.js","webpack:///./src/kline.js"],"names":["ViewPortHandler","constructor","contentRect","left","right","top","bottom","viewHeight","viewWidth","setChartDimens","width","height","restrainViewPort","contentLeft","contentTop","contentRight","contentBottom","offsetLeft","offsetTop","offsetRight","offsetBottom","getContentCenter","point","x","y","isInBoundsX","isInBoundsLeft","isInBoundsRight","tx","parseInt","DataBounds","viewPortHandler","dataList","min","range","maxRange","minRange","dataSpace","dataMarginSpaceRate","currentDataPos","space","moveToLast","length","calcCurrentDataIndex","Math","ceil","toFixed","Chart","dataBounds","chartTop","chartHeight","getY","yValue","yMin","interval","GridChart","grid","draw","canvas","display","strokeStyle","lineColor","lineWidth","lineSize","beginPath","moveTo","lineTo","stroke","closePath","utils","document","createElement","getContext","formatDate","timestamp","date","Date","month","getMonth","toString","day","getDate","hours","getHours","minutes","getMinutes","calcTextWidth","font","text","measureText","nice","value","exponent","floor","log","exp10","pow","f","nf","getIntervalPrecision","str","eIndex","indexOf","precision","slice","dotIndex","round","max","AxisChart","values","valueCount","computeAxisValues","span","first","last","n","i","IndicatorType","NO","MA","VOL","MACD","BOLL","KDJ","KD","RSI","BIAS","BRAR","CCI","DMI","CR","PSY","DMA","TRIX","OBV","VR","WR","MTM","EMV","SAR","Indicator","increasingColor","decreasingColor","lineColors","LineStyle","DASH","SOLID","Axis","color","axisLine","size","tickText","position","YAxisTextPosition","OUTSIDE","margin","valueFormatter","tickLine","separatorLine","style","dashValue","YAxisPosition","LEFT","RIGHT","INSIDE","YAxis","yAxisPosition","yAxisMaxWidth","yAxisMinWidth","needsOffset","getRequiredWidthSpace","maxWidth","YAxisChart","yAxis","axisMaximum","axisMinimum","axisRange","drawAxisLine","drawAxisLabels","initX","fillStyle","labelHeight","halfLabelHeight","formatter","labelY","getValueY","label","checkShowLabel","textAlign","startY","fillText","drawSeparatorLines","xAxis","setLineDash","drawTickLines","startX","endX","getYAxisDataMinMax","indicatorType","isMainChart","isTimeLine","minMaxArray","Number","MAX_VALUE","MIN_VALUE","model","averagePrice","close","calcIndexMinMax","low","high","computeAxis","indexType","ma","ma5","ma10","ma20","ma60","macd","dea","diff","vol","num","boll","up","mid","dn","bias","bias1","bias2","bias3","brar","br","ar","cci","cr","ma1","ma2","ma3","ma4","dma","dif","difMa","dmi","pdi","mdi","adx","adxr","kdj","k","d","j","rsi","rsi1","rsi2","rsi3","psy","trix","maTrix","obv","maObv","vr","maVr","wr","wr1","wr2","wr3","mtm","mtmMa","emv","maEmv","sar","abs","IndicatorChart","indicator","yAxisChart","drawChartHorizontalSeparatorLine","drawIndicator","isMainIndicator","drawLines","drawBarLines","kLineModel","preKLineModel","barBuffer","preMacd","strokeRect","fillRect","preClose","halfSpace","drawOhlc","drawSar","save","rect","clip","halfBarSpace","data","dataY","arc","PI","restore","dataKey","barDataKey","lineDataKeys","drawRect","lineValues","barData","zeroY","valueY","push","drawLine","openY","open","closeY","highY","lowY","drawOhlcLines","isDisplayChart","CandleStyle","STROKE","INCREASING_STROKE","DECREASING_STROKE","OHLC","ChartStyle","CANDLE","TIME_LINE","Candle","chartStyle","timeChart","timeLineSize","timeLineColor","timeLineFillColor","timeAverageLineColor","candleChart","candleStyle","lowestHighestPriceMarkTextColor","lowestHighestPriceMarkTextSize","lowestHighestValueFormatter","highestPriceMark","textSize","lowestPriceMark","lastPriceMark","lineStyle","CandleChart","candle","highestMarkData","lowestMarkData","isTimeLineChart","drawCandle","drawHighestPriceMark","drawLowestPriceMark","drawTimeLine","drawLastPriceMark","kLineDataList","candleSpace","markHighestPrice","markHighestPriceX","markLowestPrice","markLowestPriceX","highLine","lowLine","price","drawLowestHighestPriceMark","isHigh","priceY","lastPrice","timeLinePoints","timeLineAreaPoints","averageLinePoints","averagePriceY","fill","XAxisChart","positions","pointValuesToPixel","endY","pos","dataMin","IndicatorDisplayRule","ALWAYS","FOLLOW_CROSS","NONE","Tooltip","crossLine","rectStrokeLineSize","rectStrokeLineColor","rectFillColor","generalData","labels","indicatorData","displayRule","TooltipChart","tooltip","volChart","indicatorChart","displayCross","crossPoint","yAxisLabelStrokePathPoints","drawCrossHorizontalLine","drawCrossVerticalLine","textHeight","drawGeneralDataTooltip","drawIndicatorTooltip","yAxisDataLabel","getCrossYAxisLabel","isDrawYAxisTextOutside","yAxisDataLabelWidth","labelStartX","labelStartY","lineStartX","lineEndX","centerPoint","crossTextMarginSpace","candleChartYAxis","candleChartHeight","candleChartTop","volChartYAxis","volChartHeight","volChartTop","indicatorChartYAxis","indicatorChartHeight","indicatorChartTop","eventY","candleChartYAxisDataMin","candleChartYAxisDataMax","yData","volIndicatorChartYAxisDataMin","volIndicatorChartYAxisDataMax","indicatorChartYAxisDataMin","indicatorChartYAxisDataMax","labelWidth","xAxisLabelX","rectLeft","rectTop","rectRight","rectBottom","textColor","time","textWidth","maData","drawIndicatorTooltipLabels","macdData","volData","bollData","biasData","brarData","cciData","crData","dmaData","dmiData","kdjData","rsiData","psyData","trixData","obvData","vrModel","wrModel","mtmModel","emvModel","sarModel","labelX","valueStr","setCross","XAxis","xAxisMaxHeight","xAxisMinHeight","getRequiredHeightSpace","maxHeight","Grid","Event","kline","isValidEvent","CROSS","DRAG","MouseEvent","mouseMode","mouseDownPoint","mouseDown","e","getCanvasPoint","tooltipChart","freshen","mouseUp","mouseLeave","mouseMove","moveDist","moveRange","mouseWheel","touchStartPosition","touchRange","delta","wheelDelta","detail","isZoomingOut","scaleX","canvasDom","getBoundingClientRect","clientX","clientY","TOUCH_NO","TOUCH_DRAG","TOUCH_ZOOM","TOUCH_POST_ZOOM","TOUCH_CROSS","TOUCH_CROSS_CANCEL","TouchEvent","touchMode","touchStartPoint","touchMovePoint","touchCrossPoint","savedDist","savedXDist","delayTimeout","delayActiveCross","touchStart","targetTouches","preventDefault","crossRadius","distance","performCross","removeDelayActiveCross","postDelayDelayActiveCross","spacing","getXDist","touchMove","performZoom","performDrag","distanceX","distanceY","touchEnd","totalDist","xDist","setTimeout","clearTimeout","eventX","dx","dy","sqrt","calculationMa","ma5Num","ma10Num","ma20Num","ma60Num","totalTurnover","totalVolume","volume","turnover","calculationVol","ma5s","ma10s","ma20s","calculationMacd","ema12","ema26","oldEma12","oldEma26","oldDea","closePrice","calculationBoll","closes26","closes25","mb","md","getBollMd","calculationKdj","ln","hn","cn","getLow","getHigh","rsv","calculationRsi","sumCloseA","sumCloseB","a1","b1","oldA1","oldB1","a2","b2","oldA2","oldB2","a3","b3","oldA3","oldB3","tmp","AA","BB","calculationBias","closes1","closes2","closes3","mean6","mean12","mean24","calculationBrar","hcy","cyl","ho","ol","highestPrice","lowestPrice","openPrice","preClosePrice","highSubPreClose","preCloseSubLow","calculationCci","TYPEs","TYP","TYPEsMean","types","typ","MD","calculationDmi","HD","LD","refClose","sumMax","sumMaxDmp","sumMaxDmm","sumAdx","sumAdxr","max1","max2","H","L","sumMax1","sumMaxDmp1","sumMaxDmm1","mtr","dmp","dmm","adxN1","sum","sum1","remove","calculationCr","p1","p2","ma10Sum","ma10List","ma20Sum","ma20List","ma40Sum","ma40","ma40List","ma60Sum","ma60List","preHighestPrice","preLowestPrice","preOpenPrice","preMidPrice","highSubPreMid","preMidSubLow","firstHighestPrice","firstLowestPrice","firstClosePrice","firstOpenPrice","firstMidPrice","secondHighestPrice","secondLowestPrice","secondHighSubFirstMid","firstMidSubSecondLow","YM","HYM","LYM","get","calculationPsy","upDay","calculationDma","ma50s","ma50","dif10s","calculationTrix","sumTrix","sumClose","emaClose","oldEmaClose","sumEmaClose","ema2","oldEma2","sumEma2","ema3","oldEma3","calculationObv","sumObv","highSubClose","calculationVr","avs","bvs","cvs","sumVr","v","calculationWr","wr1HighestPrice","wr1LowestPrice","wr2HighestPrice","wr2LowestPrice","wr3HighestPrice","wr3LowestPrice","highPrice","lowPrice","highSubLow","calculationMtm","mtmSum","calculationEmv","sumEmv","em","emList","halfHighAddLow","preHalfHighAddLow","calculationSar","af","ep","isIncreasing","preSar","lowestPriceMin","highestPriceMax","list","closeMa","b","isMobile","test","navigator","userAgent","KLineChart","dom","rootDom","domWidth","domHeight","gridChart","xAxisChart","motionEvent","isShouldCalcOffset","isShouldCalcChartHeight","init","addEventListener","appendChild","resize","offsetWidth","offsetHeight","setConfig","config","common","minVisibleRange","maxVisibleRange","defaultVisibleRange","chartType","minHeight","minWidth","calcChartHeight","xChartHeight","isDisplayVolChart","isDisplayIndicatorChart","calcOffsets","yAxisRequireWidthSpace","requireXAxisHeight","calcIndicator","IndicatorCalculation","calcChartIndicator","setDataList","setMainIndicatorType","setSubIndicatorType","shouldCalcChartHeight","setShowVolIndicatorChart","isShow"],"mappings":"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","file":"kline.development.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","class ViewPortHandler {\n  constructor () {\n    // 绘制区域参数\n    this.contentRect = {\n      left: 0, right: 0, top: 0, bottom: 0\n    }\n    // 整个view的高度\n    this.viewHeight = 0\n    // 整个view的宽度\n    this.viewWidth = 0\n  }\n\n  /**\n   * 设置尺寸\n   * @param width\n   * @param height\n   */\n  setChartDimens (width, height) {\n    this.viewWidth = width\n    this.viewHeight = height\n    this.restrainViewPort(\n      this.contentLeft(),\n      this.contentTop(),\n      width - this.contentRight(),\n      height - this.contentBottom()\n    )\n  }\n\n  restrainViewPort (offsetLeft, offsetTop, offsetRight, offsetBottom) {\n    this.contentRect.left = offsetLeft\n    this.contentRect.right = this.viewWidth - offsetRight\n    this.contentRect.top = offsetTop\n    this.contentRect.bottom = this.viewHeight - offsetBottom\n  }\n\n  contentTop () {\n    return this.contentRect.top\n  }\n\n  contentLeft () {\n    return this.contentRect.left\n  }\n\n  contentRight () {\n    return this.contentRect.right\n  }\n\n  contentBottom () {\n    return this.contentRect.bottom\n  }\n\n  /**\n   * 获取中间点坐标\n   */\n  getContentCenter () {\n    let point = {}\n    point.x = (this.contentRect.left + this.contentRect.right) / 2\n    point.y = (this.contentRect.top + this.contentRect.bottom) / 2\n    return point\n  }\n\n  isInBoundsX (x) {\n    return this.isInBoundsLeft(x) && this.isInBoundsRight(x)\n  }\n\n  isInBoundsLeft (x) {\n    return this.contentRect.left <= x + 1\n  }\n\n  isInBoundsRight (x) {\n    let tx = (parseInt(x * 100)) / 100\n    return this.contentRect.right >= tx - 1\n  }\n}\n\nexport default ViewPortHandler\n","class DataBounds {\n  constructor (viewPortHandler) {\n    this.viewPortHandler = viewPortHandler\n    // 数据源\n    this.dataList = []\n    // 数据绘制起始位置\n    this.min = 0\n    // 绘制的数据条数\n    this.range = 120\n    // 最大绘制条数\n    this.maxRange = 180\n    // 最小绘制条数\n    this.minRange = 20\n    // 没条数据的所占的空间\n    this.dataSpace = 0\n    // 每条数据之间的距离比例\n    this.dataMarginSpaceRate = 0.2\n    // 当前数据的位置\n    this.currentDataPos = 0\n  }\n\n  /**\n   * 获取柱状图之间的间隙\n   */\n  space () {\n    this.dataSpace = (this.viewPortHandler.contentRight() - this.viewPortHandler.contentLeft()) / this.range\n  }\n\n  moveToLast () {\n    if (this.dataList.length > this.range) {\n      this.min = this.dataList.length - this.range\n      this.currentDataPos = this.dataList.length - 1\n    } else {\n      this.min = 0\n    }\n  }\n\n  /**\n   * 计算当前数据的索引\n   * @param x\n   */\n  calcCurrentDataIndex (x) {\n    let range = +Math.ceil(x / this.dataSpace).toFixed(0)\n    this.currentDataPos = this.min + range - 1\n  }\n}\n\nexport default DataBounds\n","class Chart {\n  constructor (dataBounds, viewPortHandler) {\n    this.dataBounds = dataBounds\n    this.viewPortHandler = viewPortHandler\n    this.chartTop = 0\n    this.chartHeight = 0\n  }\n\n  /**\n   * 设置图尺寸\n   * @param height\n   * @param top\n   */\n  setChartDimens (height, top) {\n    this.chartHeight = height\n    this.chartTop = top\n  }\n\n  /**\n   * 获取y点坐标\n   * @param yValue\n   * @param yMin\n   * @param interval\n   * @returns {number}\n   */\n  getY (yValue, yMin, interval) {\n    return this.chartTop + (1 - (yValue - yMin) / interval) * this.chartHeight\n  }\n}\n\nexport default Chart\n","import Chart from './Chart'\n\nclass GridChart extends Chart {\n  constructor (grid, dataBounds, viewPortHandler) {\n    super(dataBounds, viewPortHandler)\n    this.grid = grid\n  }\n\n  draw (canvas) {\n    if (!this.grid.display) {\n      return\n    }\n    canvas.strokeStyle = this.grid.lineColor\n    canvas.lineWidth = this.grid.lineSize\n    canvas.beginPath()\n    canvas.moveTo(this.viewPortHandler.contentLeft(), this.viewPortHandler.contentTop())\n    canvas.lineTo(this.viewPortHandler.contentRight(), this.viewPortHandler.contentTop())\n    canvas.lineTo(this.viewPortHandler.contentRight(), this.viewPortHandler.contentBottom())\n    canvas.lineTo(this.viewPortHandler.contentLeft(), this.viewPortHandler.contentBottom())\n    canvas.lineTo(this.viewPortHandler.contentLeft(), this.viewPortHandler.contentTop())\n    canvas.stroke()\n    canvas.closePath()\n  }\n}\n\nexport default GridChart\n","const utils = {\n  canvas: document.createElement('canvas').getContext('2d'),\n\n  formatDate (timestamp) {\n    let date = new Date(timestamp)\n    let month = (date.getMonth() + 1).toString()\n    let day = date.getDate().toString()\n    let hours = date.getHours().toString()\n    let minutes = date.getMinutes().toString()\n    return (month.length === 1 ? '0' + month : month) +\n      '-' + (day.length === 1 ? '0' + day : day) +\n      ' ' + (hours.length === 1 ? '0' + hours : hours) +\n      ':' + (minutes.length === 1 ? '0' + minutes : minutes)\n  },\n\n  /**\n   * 测量文字的宽度\n   * @param font\n   * @param text\n   * @returns {number}\n   */\n  calcTextWidth (font, text) {\n    this.canvas.font = font\n    return this.canvas.measureText(text).width\n  },\n\n  nice (value) {\n    let exponent = Math.floor(Math.log(value) / Math.log(10.0))\n    let exp10 = Math.pow(10.0, exponent)\n    let f = value / exp10 // 1 <= f < 10\n    let nf = 0\n    if (f < 1) {\n      nf = 1\n    } else if (f < 2) {\n      nf = 2\n    } else if (f < 3) {\n      nf = 3\n    } else if (f < 5) {\n      nf = 5\n    } else {\n      nf = 10\n    }\n    value = nf * exp10\n    return exponent >= -20 ? +value.toFixed(exponent < 0 ? -exponent : 0) : value\n  },\n\n  getIntervalPrecision (value) {\n    let str = value.toString()\n\n    // Consider scientific notation: '3.4e-12' '3.4e+12'\n    let eIndex = str.indexOf('e')\n    if (eIndex > 0) {\n      let precision = +str.slice(eIndex + 1)\n      return precision < 0 ? -precision : 0\n    } else {\n      let dotIndex = str.indexOf('.')\n      return dotIndex < 0 ? 0 : str.length - 1 - dotIndex\n    }\n  },\n\n  round (x, precision) {\n    if (precision == null) {\n      precision = 10\n    }\n    // Avoid range error\n    precision = Math.min(Math.max(0, precision), 20)\n    x = (+x).toFixed(precision)\n    return x\n  }\n}\n\nexport default utils\n","import Chart from './Chart'\nimport utils from '../utils/utils'\n\nclass AxisChart extends Chart {\n  constructor (dataBounds, viewPortHandler) {\n    super(dataBounds, viewPortHandler)\n    this.values = []\n    this.valueCount = 0\n  }\n\n  /**\n   * 计算x轴上的值\n   * @param min\n   * @param max\n   */\n  computeAxisValues (min, max) {\n    let span = max - min\n    if (span < 0) {\n      this.values = []\n      this.valueCount = 0\n      return\n    }\n    let interval = +utils.nice(span / 5.0)\n    let precision = utils.getIntervalPrecision(interval)\n    let first = +utils.round(Math.ceil(min / interval) * interval, precision)\n    let last = +utils.round(Math.floor(max / interval) * interval, precision)\n    let n = 0\n    let f = first\n\n    if (interval !== 0) {\n      while (f <= (+last)) {\n        ++n\n        f += interval\n      }\n    }\n    this.valueCount = n\n    this.values = []\n    let i = 0\n    f = first\n    while (i < n) {\n      this.values[i] = f\n      f += interval\n      ++i\n    }\n  }\n}\n\nexport default AxisChart\n","/**\n * 指标类型\n */\nexport const IndicatorType = {\n  /**\n   * 没有设置任何指标\n   */\n  NO: 'NO',\n\n  /**\n   * 均线\n   */\n  MA: 'MA',\n\n  /**\n   * 成交量\n   */\n  VOL: 'VOL',\n\n  /**\n   * 指数平滑异同平均线（MACD指标）\n   */\n  MACD: 'MACD',\n\n  /**\n   * 布林指标\n   */\n  BOLL: 'BOLL',\n\n  /**\n   * 随机指标(KDJ)\n   */\n  KDJ: 'KDJ',\n\n  /**\n   * 随机指标(KD)，同KDJ，只输出KD\n   */\n  KD: 'KD',\n\n  /**\n   * 强弱指标\n   */\n  RSI: 'RSI',\n\n  /**\n   * 乖离率（BIAS）是测量股价偏离均线大小程度的指标\n   */\n  BIAS: 'BIAS',\n\n  /**\n   * 情绪指标（BRAR）也称为人气意愿指标\n   */\n  BRAR: 'BRAR',\n\n  /**\n   * 顺势指标\n   */\n  CCI: 'CCI',\n\n  /**\n   * 动向指标\n   */\n  DMI: 'DMI',\n\n  /**\n   * 能量指标\n   */\n  CR: 'CR',\n\n  /**\n   * 心理线（PSY）指标是研究投资者对股市涨跌产生心理波动的情绪指标\n   */\n  PSY: 'PSY',\n\n  /**\n   * 平行线差指标\n   */\n  DMA: 'DMA',\n\n  /**\n   * 三重指数平滑平均线（TRIX）属于长线指标\n   */\n  TRIX: 'TRIX',\n\n  /**\n   * 平衡交易量指标\n   */\n  OBV: 'OBV',\n\n  /**\n   * 成交量变异率\n   */\n  VR: 'VR',\n\n  /**\n   * 威廉超买超卖指标\n   */\n  WR: 'WR',\n\n  /**\n   * 动量指标\n   */\n  MTM: 'MTM',\n\n  /**\n   * 简易波动指标\n   */\n  EMV: 'EMV',\n\n  /**\n   * 停损转向操作点指标\n   */\n  SAR: 'SAR'\n}\n\nclass Indicator {\n  constructor () {\n    /**\n     * 线的尺寸\n     */\n    this.lineSize = 1\n\n    this.increasingColor = '#5DB300'\n\n    this.decreasingColor = '#FF4A4A'\n\n    this.lineColors = ['#898989', '#F5A623', '#F601FF', '#1587DD', '#50A300']\n  }\n}\n\nexport default Indicator\n","/**\n * 线的风格\n */\nexport const LineStyle = {\n  /**\n   * 虚线\n   */\n  DASH: 'dash',\n  /**\n   * 实线\n   */\n  SOLID: 'solid'\n}\n","import { LineStyle } from './Component'\nimport { YAxisTextPosition } from './YAxis'\n\nclass Axis {\n  constructor () {\n    /**\n     * 是否显示整个轴\n     */\n    this.display = true\n    /**\n     * 整个轴的颜色\n     */\n    this.color = '#707070'\n\n    /**\n     * 轴线配置\n     */\n    this.axisLine = {\n      display: true,\n      color: '#707070',\n      size: 1\n    }\n\n    /**\n     * 分割文字配置\n     */\n    this.tickText = {\n      display: true,\n      position: YAxisTextPosition.OUTSIDE,\n      color: '#707070',\n      size: 12,\n      margin: 3,\n      valueFormatter: null\n    }\n\n    /**\n     * 分割tick线配置\n     */\n    this.tickLine = {\n      display: true,\n      size: 3,\n      color: '#707070'\n    }\n\n    /**\n     * 分割线配置\n     */\n    this.separatorLine = {\n      display: false,\n      size: 1,\n      color: '#B8B8B8',\n      style: LineStyle.DASH,\n      dashValue: [8, 8]\n    }\n  }\n}\n\nexport default Axis\n","import Axis from './Axis'\n\nimport utils from '../utils/utils'\n\n/**\n * y轴位置\n */\nexport const YAxisPosition = {\n  /**\n   * 左边\n   */\n  LEFT: 'left',\n  /**\n   * 右边\n   */\n  RIGHT: 'right'\n}\n\n/**\n * y轴上文字位置\n */\nexport const YAxisTextPosition = {\n  /**\n   * 外部\n   */\n  OUTSIDE: 'outside',\n  /**\n   * 内部\n   */\n  INSIDE: 'inside'\n}\n\nclass YAxis extends Axis {\n  constructor () {\n    super()\n    /**\n     * y轴位置\n     */\n    this.yAxisPosition = YAxisPosition.RIGHT\n\n    /**\n     * y轴最大宽度\n     */\n    this.yAxisMaxWidth = 80\n\n    /**\n     * y轴最小宽度\n     */\n    this.yAxisMinWidth = 40\n  }\n\n  /**\n   * 是否需要留间距绘制y轴\n   * @return Boolean\n   */\n  needsOffset () {\n    return (((this.tickText.display || this.tickLine.display || this.tickText.margin > 0) && this.tickText.position === YAxisTextPosition.OUTSIDE) ||\n      this.axisLine.display) && this.display\n  }\n  /**\n   * 获取y轴需要的宽度\n   * @return number\n   */\n  getRequiredWidthSpace () {\n    let width = 0\n    if (this.tickText.position === YAxisTextPosition.OUTSIDE) {\n      width += utils.calcTextWidth(this.tickText.size * 2, '0000000') + this.tickText.margin * 2\n      if (this.display && this.tickLine.display) {\n        width += this.tickLine.size * 2\n      }\n    }\n\n    if (this.display && this.axisLine.display) {\n      width += this.axisLine.size\n    }\n\n    if (width === this.axisLine.size) {\n      return width\n    }\n    let maxWidth = width\n    if (maxWidth > 0) {\n      maxWidth = this.yAxisMaxWidth * 2\n      width = Math.min(maxWidth, Math.max(width, this.yAxisMinWidth * 2))\n    }\n    return width\n  }\n}\n\nexport default YAxis\n","import AxisChart from './AxisChart'\nimport { IndicatorType } from '../component/Indicator'\nimport { YAxisPosition, YAxisTextPosition } from '../component/YAxis'\nimport { LineStyle } from '../component/Component'\n\nclass YAxisChart extends AxisChart {\n  constructor (yAxis, dataBounds, viewPortHandler) {\n    super(dataBounds, viewPortHandler)\n    this.axisMaximum = 0\n    this.axisMinimum = 0\n    this.axisRange = 0\n    this.yAxis = yAxis\n  }\n\n  drawAxisLine (canvas) {\n    if (!this.yAxis.display || !this.yAxis.axisLine.display) {\n      return\n    }\n    canvas.strokeStyle = this.yAxis.axisLine.color || this.yAxis.color\n    canvas.lineWidth = this.yAxis.axisLine.size\n    canvas.beginPath()\n    if (this.yAxis.yAxisPosition === YAxisPosition.LEFT) {\n      canvas.moveTo(this.viewPortHandler.contentLeft(), this.chartTop)\n      canvas.lineTo(this.viewPortHandler.contentLeft(), this.chartTop + this.chartHeight)\n    } else {\n      canvas.moveTo(this.viewPortHandler.contentRight(), this.chartTop)\n      canvas.lineTo(this.viewPortHandler.contentRight(), this.chartTop + this.chartHeight)\n    }\n    canvas.stroke()\n    canvas.closePath()\n  }\n\n  /**\n   * 绘制y轴上文字\n   * @param canvas\n   */\n  drawAxisLabels (canvas) {\n    if (!this.yAxis.display || !this.yAxis.tickText.display) {\n      return\n    }\n\n    let initX\n    if (this.yAxis.yAxisPosition === YAxisPosition.LEFT) {\n      if (this.yAxis.tickText.position === YAxisTextPosition.OUTSIDE) {\n        if (this.yAxis.display && this.yAxis.tickLine.display) {\n          initX = this.viewPortHandler.contentLeft() - this.yAxis.tickLine.size * 2 - this.yAxis.tickText.margin * 2\n        } else {\n          initX = this.viewPortHandler.contentLeft() - this.yAxis.tickText.margin * 2\n        }\n      } else {\n        if (this.yAxis.display && this.yAxis.tickLine.display) {\n          initX = this.viewPortHandler.contentLeft() + this.yAxis.tickLine.size * 2 + this.yAxis.tickText.margin * 2\n        } else {\n          initX = this.viewPortHandler.contentLeft() + this.yAxis.tickText.margin * 2\n        }\n      }\n    } else {\n      if (this.yAxis.tickText.position === YAxisTextPosition.OUTSIDE) {\n        if (this.yAxis.display && this.yAxis.tickLine.display) {\n          initX = this.viewPortHandler.contentRight() + this.yAxis.tickLine.size * 2 + this.yAxis.tickText.margin * 2\n        } else {\n          initX = this.viewPortHandler.contentRight() + this.yAxis.tickText.margin * 2\n        }\n      } else {\n        if (this.yAxis.display && this.yAxis.tickLine.display) {\n          initX = this.viewPortHandler.contentRight() - this.yAxis.tickLine.size * 2 - this.yAxis.tickText.margin * 2\n        } else {\n          initX = this.viewPortHandler.contentRight() - this.yAxis.tickText.margin * 2\n        }\n      }\n    }\n\n    canvas.font = this.yAxis.tickText.size * 2 + 'px Arial'\n    canvas.fillStyle = this.yAxis.tickText.color || this.yAxis.color\n\n    let labelHeight = this.yAxis.tickText.size * 2\n    let halfLabelHeight = labelHeight / 2\n\n    let formatter = this.yAxis.tickText.valueFormatter\n    for (let i = 0; i < this.values.length; i++) {\n      let labelY = this.getValueY(this.values[i])\n      let label = this.values[i].toString()\n      if (formatter) {\n        label = formatter(this.values[i]) || '--'\n      }\n      if (this.checkShowLabel(labelY, labelHeight)) {\n        if ((this.yAxis.yAxisPosition === YAxisPosition.LEFT && this.yAxis.tickText.position === YAxisTextPosition.OUTSIDE) ||\n          (this.yAxis.yAxisPosition === YAxisPosition.RIGHT && this.yAxis.tickText.position !== YAxisTextPosition.OUTSIDE)) {\n          canvas.textAlign = 'right'\n        } else {\n          canvas.textAlign = 'left'\n        }\n        let startY = labelY + halfLabelHeight\n        canvas.fillText(label, initX, startY)\n      }\n    }\n    canvas.textAlign = 'left'\n  }\n\n  /**\n   * 绘制y轴分割线\n   * @param canvas\n   */\n  drawSeparatorLines (canvas) {\n    if (!this.yAxis.display || !this.yAxis.separatorLine.display) {\n      return\n    }\n    canvas.strokeStyle = this.yAxis.separatorLine.color || this.yAxis.color\n    canvas.lineWidth = this.yAxis.separatorLine.size\n\n    let labelHeight = this.yAxis.tickText.size * 2\n\n    if (this.xAxis.separatorLine.style === LineStyle.DASH) {\n      canvas.setLineDash(this.xAxis.separatorLine.dashValue)\n    }\n\n    for (let i = 0; i < this.values.length; i++) {\n      let y = this.getValueY(this.values[i])\n      if (this.checkShowLabel(y, labelHeight)) {\n        canvas.beginPath()\n        canvas.moveTo(this.viewPortHandler.contentLeft(), y)\n        canvas.lineTo(this.viewPortHandler.contentRight(), y)\n        canvas.stroke()\n        canvas.closePath()\n      }\n    }\n    canvas.setLineDash([])\n  }\n\n  /**\n   * 绘制刻度线\n   * @param canvas\n   */\n  drawTickLines (canvas) {\n    if (!this.yAxis.display || !this.yAxis.tickLine.display) {\n      return\n    }\n    canvas.lineWidth = 1\n    canvas.strokeStyle = this.yAxis.axisLine.color || this.yAxis.color\n    let labelHeight = this.yAxis.tickText.size * 2\n    let startX\n    let endX\n    if (this.yAxis.yAxisPosition === YAxisPosition.LEFT) {\n      startX = this.viewPortHandler.contentLeft()\n      if (this.yAxis.tickText.position === YAxisTextPosition.OUTSIDE) {\n        endX = startX - this.yAxis.tickLine.size * 2\n      } else {\n        endX = startX + this.yAxis.tickLine.size * 2\n      }\n    } else {\n      startX = this.viewPortHandler.contentRight()\n      if (this.yAxis.tickText.position === YAxisTextPosition.OUTSIDE) {\n        endX = startX + this.yAxis.tickLine.size * 2\n      } else {\n        endX = startX - this.yAxis.tickLine.size * 2\n      }\n    }\n    for (let i = 0; i < this.values.length; i++) {\n      let y = this.getValueY(this.values[i])\n      if (this.checkShowLabel(y, labelHeight)) {\n        canvas.beginPath()\n        canvas.moveTo(startX, y)\n        canvas.lineTo(endX, y)\n        canvas.stroke()\n        canvas.closePath()\n      }\n    }\n  }\n\n  /**\n   * 检查是否需要真正显示label及tick线 分割线\n   * @param y\n   * @param labelHeight\n   */\n  checkShowLabel (y, labelHeight) {\n    return y > this.chartTop + labelHeight && y < this.chartTop + this.chartHeight - labelHeight\n  }\n\n  /**\n   * 计算y轴数据的最大最小值\n   * @param indicatorType\n   * @param isMainChart\n   * @param isTimeLine\n   */\n  getYAxisDataMinMax (indicatorType, isMainChart = false, isTimeLine = false) {\n    let dataList = this.dataBounds.dataList\n    let min = this.dataBounds.min\n    let max = Math.min(min + this.dataBounds.range, dataList.length)\n    let minMaxArray = [Number.MAX_VALUE, Number.MIN_VALUE]\n    if (isTimeLine) {\n      for (let i = min; i < max; i++) {\n        let model = dataList[i]\n        minMaxArray[0] = Math.min(model.averagePrice, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.close, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.averagePrice, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.close, minMaxArray[1])\n      }\n    } else {\n      for (let i = min; i < max; i++) {\n        let model = dataList[i]\n        this.calcIndexMinMax(model, indicatorType, minMaxArray)\n        if (isMainChart) {\n          minMaxArray[0] = Math.min(model.low, minMaxArray[0])\n          minMaxArray[1] = Math.max(model.high, minMaxArray[1])\n        }\n      }\n    }\n\n    if (minMaxArray[0] !== Number.MAX_VALUE && minMaxArray[1] !== Number.MIN_VALUE) {\n      this.axisMinimum = minMaxArray[0]\n      this.axisMaximum = minMaxArray[1]\n      this.computeAxis()\n    }\n  }\n\n  /**\n   * 计算指标值的最大最小值\n   * @param model\n   * @param indexType\n   * @param minMaxArray\n   * @returns {*}\n   */\n  calcIndexMinMax (model, indexType, minMaxArray) {\n    switch (indexType) {\n      case IndicatorType.MA: {\n        minMaxArray[0] = Math.min(model.ma.ma5, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.ma.ma10, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.ma.ma20, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.ma.ma60, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.ma.ma5, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.ma.ma10, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.ma.ma20, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.ma.ma60, minMaxArray[1])\n        break\n      }\n      case IndicatorType.MACD: {\n        minMaxArray[0] = Math.min(model.macd.dea, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.macd.diff, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.macd.macd, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.macd.dea, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.macd.diff, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.macd.macd, minMaxArray[1])\n        break\n      }\n      case IndicatorType.VOL: {\n        minMaxArray[0] = Math.min(model.vol.ma5, 0)\n        minMaxArray[0] = Math.min(model.vol.ma10, 0)\n        minMaxArray[0] = Math.min(model.vol.ma20, 0)\n        minMaxArray[0] = Math.min(model.vol.num, 0)\n        minMaxArray[1] = Math.max(model.vol.ma5, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.vol.ma10, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.vol.ma20, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.vol.num, minMaxArray[1])\n        break\n      }\n      case IndicatorType.BOLL: {\n        minMaxArray[0] = Math.min(model.boll.up, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.boll.mid, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.boll.dn, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.low, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.boll.up, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.boll.mid, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.boll.dn, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.high, minMaxArray[1])\n        break\n      }\n      case IndicatorType.BIAS: {\n        minMaxArray[0] = Math.min(model.bias.bias1, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.bias.bias2, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.bias.bias3, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.bias.bias1, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.bias.bias2, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.bias.bias3, minMaxArray[1])\n        break\n      }\n      case IndicatorType.BRAR: {\n        minMaxArray[0] = Math.min(model.brar.br, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.brar.ar, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.brar.br, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.brar.ar, minMaxArray[1])\n        break\n      }\n      case IndicatorType.CCI: {\n        minMaxArray[0] = Math.min(model.cci.cci, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.cci.cci, minMaxArray[1])\n        break\n      }\n      case IndicatorType.CR: {\n        minMaxArray[0] = Math.min(model.cr.cr, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.cr.ma1, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.cr.ma2, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.cr.ma3, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.cr.ma4, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.cr.cr, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.cr.ma1, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.cr.ma2, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.cr.ma3, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.cr.ma4, minMaxArray[1])\n        break\n      }\n      case IndicatorType.DMA: {\n        minMaxArray[0] = Math.min(model.dma.dif, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.dma.difMa, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.dma.dif, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.dma.difMa, minMaxArray[1])\n        break\n      }\n      case IndicatorType.DMI: {\n        minMaxArray[0] = Math.min(model.dmi.pdi, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.dmi.mdi, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.dmi.adx, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.dmi.adxr, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.dmi.pdi, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.dmi.mdi, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.dmi.adx, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.dmi.adxr, minMaxArray[1])\n        break\n      }\n      case IndicatorType.KDJ: {\n        minMaxArray[0] = Math.min(model.kdj.k, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.kdj.d, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.kdj.j, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.kdj.k, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.kdj.d, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.kdj.j, minMaxArray[1])\n        break\n      }\n      case IndicatorType.KD: {\n        minMaxArray[0] = Math.min(model.kdj.k, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.kdj.d, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.kdj.k, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.kdj.d, minMaxArray[1])\n        break\n      }\n      case IndicatorType.RSI: {\n        minMaxArray[0] = Math.min(model.rsi.rsi1, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.rsi.rsi2, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.rsi.rsi3, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.rsi.rsi1, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.rsi.rsi2, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.rsi.rsi3, minMaxArray[1])\n        break\n      }\n      case IndicatorType.PSY: {\n        minMaxArray[0] = Math.min(model.psy.psy, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.psy.psy, minMaxArray[1])\n        break\n      }\n      case IndicatorType.TRIX: {\n        minMaxArray[0] = Math.min(model.trix.trix, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.trix.maTrix, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.trix.trix, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.trix.maTrix, minMaxArray[1])\n        break\n      }\n      case IndicatorType.OBV: {\n        minMaxArray[0] = Math.min(model.obv.obv, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.obv.maObv, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.obv.obv, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.obv.maObv, minMaxArray[1])\n        break\n      }\n      case IndicatorType.VR: {\n        minMaxArray[0] = Math.min(model.vr.vr, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.vr.maVr, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.vr.vr, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.vr.maVr, minMaxArray[1])\n        break\n      }\n      case IndicatorType.WR: {\n        minMaxArray[0] = Math.min(model.wr.wr1, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.wr.wr2, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.wr.wr3, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.wr.wr1, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.wr.wr2, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.wr.wr3, minMaxArray[1])\n        break\n      }\n      case IndicatorType.MTM: {\n        minMaxArray[0] = Math.min(model.mtm.mtm, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.mtm.mtmMa, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.mtm.mtm, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.mtm.mtmMa, minMaxArray[1])\n        break\n      }\n      case IndicatorType.EMV: {\n        minMaxArray[0] = Math.min(model.emv.emv, minMaxArray[0])\n        minMaxArray[0] = Math.min(model.emv.maEmv, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.emv.emv, minMaxArray[1])\n        minMaxArray[1] = Math.max(model.emv.maEmv, minMaxArray[1])\n        break\n      }\n      case IndicatorType.SAR: {\n        minMaxArray[0] = Math.min(model.sar.sar, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.sar.sar, minMaxArray[1])\n        minMaxArray[0] = Math.min(model.low, minMaxArray[0])\n        minMaxArray[1] = Math.max(model.high, minMaxArray[1])\n        break\n      }\n    }\n    return minMaxArray\n  }\n\n  computeAxis () {\n    let min = this.axisMinimum\n    let max = this.axisMaximum\n\n    let range = Math.abs(max - min)\n\n    if (range === 0) {\n      max += 1\n      min -= 1\n      range = Math.abs(max - min)\n    }\n\n    this.axisMinimum = min - (range / 100) * 10\n    this.axisMaximum = max + (range / 100) * 20\n\n    this.axisRange = Math.abs(this.axisMaximum - this.axisMinimum)\n\n    this.computeAxisValues(this.axisMinimum, this.axisMaximum)\n  }\n\n  /**\n   * 获取y点坐标\n   * @param yValue Float\n   * @return number\n   */\n  getValueY (yValue) {\n    return this.getY(yValue, this.axisMinimum, this.axisRange)\n  }\n}\n\nexport default YAxisChart\n","import Chart from './Chart'\nimport YAxisChart from './YAxisChart'\nimport { IndicatorType } from '../component/Indicator'\n\nclass IndicatorChart extends Chart {\n  constructor (indicator, xAxis, yAxis, dataBounds, viewPortHandler, indicatorType = IndicatorType.MACD) {\n    super(dataBounds, viewPortHandler)\n    this.indicator = indicator\n    this.xAxis = xAxis\n    this.yAxisChart = new YAxisChart(yAxis, dataBounds, viewPortHandler)\n    this.indicatorType = indicatorType\n  }\n\n  setChartDimens (height, top) {\n    super.setChartDimens(height, top)\n    this.yAxisChart.setChartDimens(height, top)\n  }\n\n  draw (canvas) {\n    this.drawChartHorizontalSeparatorLine(canvas)\n    this.yAxisChart.getYAxisDataMinMax(this.indicatorType)\n    this.yAxisChart.drawSeparatorLines(canvas)\n    this.yAxisChart.drawTickLines(canvas)\n\n    this.drawIndicator(canvas)\n\n    this.yAxisChart.drawAxisLine(canvas)\n    this.yAxisChart.drawAxisLabels(canvas)\n  }\n\n  /**\n   * 绘制各图之间分割线\n   * @param canvas\n   */\n  drawChartHorizontalSeparatorLine (canvas) {\n    canvas.lineWidth = this.xAxis.axisLine.size\n    canvas.strokeStyle = this.xAxis.axisLine.color\n    canvas.beginPath()\n    canvas.moveTo(this.viewPortHandler.contentLeft(), this.chartTop)\n    canvas.lineTo(this.viewPortHandler.contentRight(), this.chartTop)\n    canvas.closePath()\n    canvas.stroke()\n  }\n\n  /**\n   * 绘制指标\n   * @param canvas\n   * @param isMainIndicator\n   */\n  drawIndicator (canvas, isMainIndicator = false) {\n    switch (this.indicatorType) {\n      case IndicatorType.MA: {\n        this.drawLines(canvas, 'ma', ['ma5', 'ma10', 'ma20', 'ma60'])\n        break\n      }\n\n      case IndicatorType.MACD: {\n        this.drawBarLines(canvas, 'macd', 'macd', ['diff', 'dea'], (kLineModel, preKLineModel, barBuffer) => {\n          let macd = (kLineModel.macd || {}).macd\n          let preMacd = ((preKLineModel || {}).macd || {}).macd\n          if (macd > 0) {\n            canvas.strokeStyle = this.indicator.increasingColor\n            canvas.fillStyle = this.indicator.increasingColor\n          } else {\n            canvas.strokeStyle = this.indicator.decreasingColor\n            canvas.fillStyle = this.indicator.decreasingColor\n          }\n          if ((preMacd || preMacd === 0) && macd > preMacd) {\n            canvas.strokeRect(barBuffer[0], barBuffer[1], barBuffer[2] - barBuffer[0], barBuffer[3] - barBuffer[1])\n          } else {\n            canvas.fillRect(barBuffer[0], barBuffer[1], barBuffer[2] - barBuffer[0], barBuffer[3] - barBuffer[1])\n          }\n        })\n        break\n      }\n\n      case IndicatorType.VOL: {\n        this.drawBarLines(canvas, 'vol', 'num', ['ma5', 'ma10', 'ma20'], (kLineModel, preKLineModel, barBuffer) => {\n          let close = kLineModel.close\n          let preClose = (preKLineModel || {}).close\n          if ((preClose || preClose === 0) && close > preClose) {\n            canvas.fillStyle = this.indicator.increasingColor\n          } else {\n            canvas.fillStyle = this.indicator.decreasingColor\n          }\n          canvas.fillRect(barBuffer[0], barBuffer[1], barBuffer[2] - barBuffer[0], barBuffer[3] - barBuffer[1])\n        })\n        break\n      }\n\n      case IndicatorType.BOLL: {\n        this.drawLines(canvas, 'boll', ['up', 'mid', 'dn'], (x, kLineModel) => {\n          let halfSpace = this.dataBounds.dataSpace * (1 - this.dataBounds.dataMarginSpaceRate) / 2\n          this.drawOhlc(canvas, halfSpace, x, kLineModel, isMainIndicator)\n        })\n        break\n      }\n\n      case IndicatorType.BIAS: {\n        this.drawLines(canvas, 'bias', ['bias1', 'bias2', 'bias3'])\n        break\n      }\n\n      case IndicatorType.BRAR: {\n        this.drawLines(canvas, 'brar', ['br', 'ar'])\n        break\n      }\n\n      case IndicatorType.CCI: {\n        this.drawLines(canvas, 'cci', ['cci'])\n        break\n      }\n\n      case IndicatorType.CR: {\n        this.drawLines(canvas, 'cr', ['cr', 'ma1', 'ma2', 'ma3', 'ma4'])\n        break\n      }\n\n      case IndicatorType.DMA: {\n        this.drawLines(canvas, 'dma', ['dif', 'difMa'])\n        break\n      }\n\n      case IndicatorType.DMI: {\n        this.drawLines(canvas, 'dmi', ['mdi', 'pdi', 'adx', 'adxr'])\n        break\n      }\n\n      case IndicatorType.KDJ: {\n        this.drawLines(canvas, 'kdj', ['k', 'd', 'j'])\n        break\n      }\n\n      case IndicatorType.KD: {\n        this.drawLines(canvas, 'kd', ['k', 'd'])\n        break\n      }\n\n      case IndicatorType.RSI: {\n        this.drawLines(canvas, 'rsi', ['rsi1', 'rsi2', 'rsi3'])\n        break\n      }\n\n      case IndicatorType.PSY: {\n        this.drawLines(canvas, 'psy', ['psy'])\n        break\n      }\n\n      case IndicatorType.TRIX: {\n        this.drawLines(canvas, 'trix', ['trix', 'maTrix'])\n        break\n      }\n\n      case IndicatorType.OBV: {\n        this.drawLines(canvas, 'obv', ['obv', 'maObv'])\n        break\n      }\n\n      case IndicatorType.VR: {\n        this.drawLines(canvas, 'vr', ['vr', 'maVr'])\n        break\n      }\n\n      case IndicatorType.WR: {\n        this.drawLines(canvas, 'wr', ['wr1', 'wr2', 'wr3'])\n        break\n      }\n\n      case IndicatorType.MTM: {\n        this.drawLines(canvas, 'mtm', ['mtm', 'mtmMa'])\n        break\n      }\n\n      case IndicatorType.EMV: {\n        this.drawLines(canvas, 'emv', ['emv', 'maEmv'])\n        break\n      }\n\n      case IndicatorType.SAR: {\n        this.drawSar(canvas, isMainIndicator)\n      }\n    }\n  }\n\n  /**\n   * 绘制Sar\n   * @param canvas\n   * @param isMainIndicator\n   */\n  drawSar (canvas, isMainIndicator) {\n    canvas.save()\n    canvas.beginPath()\n    canvas.rect(\n      this.viewPortHandler.contentLeft(),\n      this.chartTop,\n      this.viewPortHandler.contentRight() - this.viewPortHandler.contentLeft(),\n      this.viewPortHandler.contentBottom() - this.chartTop\n    )\n    canvas.closePath()\n    canvas.clip()\n    canvas.lineWidth = 1\n    let startX = this.viewPortHandler.contentLeft()\n    let dataSpace = this.dataBounds.dataSpace * (1 - this.dataBounds.dataMarginSpaceRate)\n    let halfBarSpace = dataSpace / 2\n    let i = this.dataBounds.min\n    while (i < this.dataBounds.dataList.length && i < this.dataBounds.min + this.dataBounds.range) {\n      let endX = startX + dataSpace\n      let x = (startX + endX) / 2\n      let kLineModel = this.dataBounds.dataList[i]\n\n      this.drawOhlc(canvas, halfBarSpace, x, kLineModel, isMainIndicator)\n\n      let data = kLineModel.sar\n      let sar = data.sar\n      if (sar || sar === 0) {\n        let dataY = this.getValueY(sar)\n        if (sar < (kLineModel.high + kLineModel.low) / 2) {\n          canvas.strokeStyle = this.indicator.increasingColor\n        } else {\n          canvas.strokeStyle = this.indicator.decreasingColor\n        }\n        canvas.beginPath()\n        canvas.arc(x, dataY, halfBarSpace, Math.PI * 2, 0, true)\n        canvas.stroke()\n        canvas.closePath()\n      }\n      startX += this.dataBounds.dataSpace\n      ++i\n    }\n    canvas.restore()\n  }\n\n  /**\n   * 绘制有柱状图有线的指标\n   * @param canvas\n   * @param dataKey\n   * @param barDataKey\n   * @param lineDataKeys\n   * @param drawRect\n   */\n  drawBarLines (canvas, dataKey, barDataKey, lineDataKeys, drawRect) {\n    let startX = this.viewPortHandler.contentLeft()\n    let dataSpace = this.dataBounds.dataSpace * (1 - this.dataBounds.dataMarginSpaceRate)\n    let halfBarSpace = dataSpace / 2\n    let i = this.dataBounds.min\n    let barBuffer = []\n    let lineValues = []\n    while (i < this.dataBounds.dataList.length && i < this.dataBounds.min + this.dataBounds.range) {\n      let endX = startX + dataSpace\n      let x = (startX + endX) / 2\n      let kLineModel = this.dataBounds.dataList[i]\n      let preKLineModel\n      if (i > 0) {\n        preKLineModel = this.dataBounds.dataList[i - 1]\n      }\n      let data = kLineModel[dataKey]\n      let barData = data[barDataKey]\n      if (barData || barData === 0) {\n        barBuffer[0] = x - halfBarSpace\n        barBuffer[2] = x + halfBarSpace\n        let dataY = this.getValueY(barData)\n        let zeroY = this.getValueY(0)\n        barBuffer[1] = dataY\n        barBuffer[3] = zeroY\n\n        drawRect(kLineModel, preKLineModel, barBuffer)\n      }\n      for (let j = 0; j < lineDataKeys.length; j++) {\n        let value = data[lineDataKeys[j]]\n        let valueY = this.getValueY(value)\n        if (!lineValues[j]) {\n          lineValues[j] = [{ x: x, y: valueY }]\n        } else {\n          lineValues[j].push({ x: x, y: valueY })\n        }\n      }\n      startX += this.dataBounds.dataSpace\n      ++i\n    }\n    this.drawLine(canvas, lineValues)\n  }\n\n  /**\n   * 绘制只有线的指标\n   * @param canvas\n   * @param dataKey\n   * @param lineDataKeys\n   * @param draw\n   */\n  drawLines (canvas, dataKey, lineDataKeys, draw) {\n    let startX = this.viewPortHandler.contentLeft()\n    let i = this.dataBounds.min\n    let dataSpace = this.dataBounds.dataSpace * (1 - this.dataBounds.dataMarginSpaceRate)\n    let lineValues = []\n    while (i < this.dataBounds.dataList.length && i < this.dataBounds.min + this.dataBounds.range) {\n      let endX = startX + dataSpace\n      let x = (startX + endX) / 2\n      let kLineModel = this.dataBounds.dataList[i]\n      if (draw) {\n        draw(x, kLineModel)\n      }\n      let data = kLineModel[dataKey]\n      for (let j = 0; j < lineDataKeys.length; j++) {\n        let value = data[lineDataKeys[j]]\n        let valueY = this.getValueY(value)\n        if (!lineValues[j]) {\n          lineValues[j] = [{ x: x, y: valueY }]\n        } else {\n          lineValues[j].push({ x: x, y: valueY })\n        }\n      }\n\n      startX += this.dataBounds.dataSpace\n      ++i\n    }\n    this.drawLine(canvas, lineValues)\n  }\n\n  /**\n   * 绘制线\n   * @param canvas\n   * @param lineValues\n   */\n  drawLine (canvas, lineValues) {\n    for (let i = 0; i < lineValues.length; i++) {\n      let values = lineValues[i]\n      if (values.length > 0) {\n        canvas.strokeStyle = this.indicator.lineColors[i]\n        canvas.beginPath()\n        canvas.moveTo(values[0].x, values[0].y)\n        for (let j = 1; j < values.length; j++) {\n          canvas.lineTo(values[j].x, values[j].y)\n        }\n        canvas.stroke()\n        canvas.closePath()\n      }\n    }\n  }\n\n  /**\n   * 绘制指标图里面的开低高收价\n   */\n  drawOhlc (canvas, halfBarSpace, x, kLineModel, isMainIndicator) {\n    if (!isMainIndicator) {\n      let openY = this.getValueY(kLineModel.open)\n      let closeY = this.getValueY(kLineModel.close)\n      let highY = this.getValueY(kLineModel.high)\n      let lowY = this.getValueY(kLineModel.low)\n      if (kLineModel.close > kLineModel.open) {\n        canvas.strokeStyle = this.indicator.increasingColor\n      } else {\n        canvas.strokeStyle = this.indicator.decreasingColor\n      }\n      this.drawOhlcLines(canvas, halfBarSpace, x, openY, closeY, highY, lowY)\n    }\n  }\n\n  /**\n   * 绘制ohlc线\n   * @param canvas\n   * @param halfBarSpace\n   * @param x\n   * @param openY\n   * @param closeY\n   * @param highY\n   * @param lowY\n   */\n  drawOhlcLines (canvas, halfBarSpace, x, openY, closeY, highY, lowY) {\n    canvas.beginPath()\n    canvas.moveTo(x, highY)\n    canvas.lineTo(x, lowY)\n    canvas.stroke()\n    canvas.closePath()\n\n    canvas.beginPath()\n    canvas.moveTo(x - halfBarSpace, openY)\n    canvas.lineTo(x, openY)\n    canvas.stroke()\n    canvas.closePath()\n\n    canvas.beginPath()\n    canvas.moveTo(x + halfBarSpace, closeY)\n    canvas.lineTo(x, closeY)\n    canvas.stroke()\n    canvas.closePath()\n  }\n\n  /**\n   * 获取y点坐标\n   * @param yValue Float\n   */\n  getValueY (yValue) {\n    return this.getY(yValue, this.yAxisChart.axisMinimum, this.yAxisChart.axisRange)\n  }\n\n  /**\n   * 是否显示图\n   * @returns {boolean}\n   */\n  isDisplayChart () {\n    return this.indicatorType !== IndicatorType.NO\n  }\n}\n\nexport default IndicatorChart\n","import { LineStyle } from './Component'\n\n/**\n * 蜡烛图样式\n */\nexport const CandleStyle = {\n  /**\n   * 全实心\n   */\n  SOLID: 'solid',\n\n  /**\n   * 全空心\n   */\n  STROKE: 'stroke',\n\n  /**\n   * 涨空心\n   */\n  INCREASING_STROKE: 'increasing_stroke',\n\n  /**\n   * 跌空心\n   */\n  DECREASING_STROKE: 'decreasing_stroke',\n\n  /**\n   * 美国线\n   */\n  OHLC: 'ohlc'\n}\n\n/**\n * 图表类型\n */\nexport const ChartStyle = {\n  /**\n   * 蜡烛图\n   */\n  CANDLE: 'candle',\n\n  /**\n   * 分时线\n   */\n  TIME_LINE: 'time_line'\n}\n\nclass Candle {\n  constructor () {\n    /**\n     * 图类型\n     */\n    this.chartStyle = ChartStyle.CANDLE\n\n    /**\n     * 分时图配置\n     */\n    this.timeChart = {\n      /**\n       * 分时线尺寸\n       */\n      timeLineSize: 1,\n\n      /**\n       * 分时线颜色\n       */\n      timeLineColor: '#D8D8D8',\n\n      /**\n       * 分时线填充色\n       */\n      timeLineFillColor: '#f4f4f4',\n\n      /**\n       * 分时均线颜色\n       */\n      timeAverageLineColor: '#F5A623'\n    }\n\n    /**\n     * 蜡烛图配置\n     */\n    this.candleChart = {\n      /**\n       * 蜡烛图样式\n       */\n      candleStyle: CandleStyle.SOLID,\n      /**\n       * 上涨颜色\n       */\n      increasingColor: '#5DB300',\n      /**\n       * 下跌颜色\n       */\n      decreasingColor: '#FF4A4A'\n    }\n\n    /**\n     * 最低最高价格标记文字颜色\n     */\n    this.lowestHighestPriceMarkTextColor = '#898989'\n\n    /**\n     * 最低最高价格标记文字大小\n     */\n    this.lowestHighestPriceMarkTextSize = 10\n\n    /**\n     * 最高最低价格标记值格式化\n     */\n    this.lowestHighestValueFormatter = null\n\n    /**\n     * 最大价格标记参数\n     */\n    this.highestPriceMark = {\n      display: true,\n      color: '#898989',\n      textSize: 10,\n      valueFormatter: null\n    }\n\n    /**\n     * 最小价格标记参数\n     */\n    this.lowestPriceMark = {\n      display: true,\n      color: '#898989',\n      textSize: 10,\n      valueFormatter: null\n    }\n\n    /**\n     * 最新价标记参数\n     */\n    this.lastPriceMark = {\n      display: true,\n      lineStyle: LineStyle.DASH,\n      dashValue: [8, 8],\n      lineSize: 1,\n      lineColor: '#B9B9B9'\n    }\n  }\n}\n\nexport default Candle\n","import IndicatorChart from './IndicatorChart'\nimport { LineStyle } from '../component/Component'\nimport { IndicatorType } from '../component/Indicator'\nimport { ChartStyle, CandleStyle } from '../component/Candle'\n\nclass CandleChart extends IndicatorChart {\n  constructor (candle, indicator, yAxis, dataBounds, viewPortHandler) {\n    super(indicator, null, yAxis, dataBounds, viewPortHandler)\n    this.candle = candle\n    this.indicatorType = IndicatorType.MA\n    // 最高价标记数据\n    this.highestMarkData = {}\n    // 最低价标记数据\n    this.lowestMarkData = {}\n  }\n\n  /**\n   * 绘制\n   * @param canvas\n   */\n  draw (canvas) {\n    let isTimeLineChart = this.candle.chartStyle === ChartStyle.TIME_LINE\n    this.yAxisChart.getYAxisDataMinMax(this.indicatorType, true, isTimeLineChart)\n    this.yAxisChart.drawSeparatorLines(canvas)\n    this.yAxisChart.drawTickLines(canvas)\n    if (!isTimeLineChart) {\n      this.drawCandle(canvas)\n      this.drawIndicator(canvas, true)\n      this.drawHighestPriceMark(canvas)\n      this.drawLowestPriceMark(canvas)\n    } else {\n      this.drawTimeLine(canvas)\n    }\n    this.drawLastPriceMark(canvas)\n    this.yAxisChart.drawAxisLine(canvas)\n    this.yAxisChart.drawAxisLabels(canvas)\n  }\n\n  /**\n   * 绘制蜡烛图\n   * @param canvas\n   */\n  drawCandle (canvas) {\n    canvas.lineWidth = 1\n    let kLineDataList = this.dataBounds.dataList\n    let startX = this.viewPortHandler.contentLeft()\n    let i = this.dataBounds.min\n    let candleSpace = this.dataBounds.dataSpace * (1 - this.dataBounds.dataMarginSpaceRate)\n    let halfSpace = candleSpace / 2\n    let rect = []\n    let markHighestPrice = Number.MIN_VALUE\n    let markHighestPriceX = -1\n    let markLowestPrice = Number.MAX_VALUE\n    let markLowestPriceX = -1\n    while (i < kLineDataList.length && i < this.dataBounds.min + this.dataBounds.range) {\n      let endX = startX + candleSpace\n      let x = (startX + endX) / 2\n      let model = kLineDataList[i]\n      let high = model.high\n      let low = model.low\n\n      if (markHighestPrice < high) {\n        markHighestPrice = high\n        markHighestPriceX = x\n      }\n\n      if (low < markLowestPrice) {\n        markLowestPrice = low\n        markLowestPriceX = x\n      }\n\n      let openY = this.getValueY(model.open)\n      let closeY = this.getValueY(model.close)\n      let highY = this.getValueY(high)\n      let lowY = this.getValueY(low)\n      if (model.close > model.open) {\n        canvas.strokeStyle = this.candle.candleChart.increasingColor\n        canvas.fillStyle = this.candle.candleChart.increasingColor\n      } else {\n        canvas.strokeStyle = this.candle.candleChart.decreasingColor\n        canvas.fillStyle = this.candle.candleChart.decreasingColor\n      }\n\n      if (this.candle.candleChart.candleStyle !== CandleStyle.OHLC) {\n        let highLine = []\n        let lowLine = []\n        if (openY > closeY) {\n          highLine[0] = highY\n          highLine[1] = closeY\n          lowLine[0] = openY\n          lowLine[1] = lowY\n          rect = [startX, closeY, endX - startX, openY - closeY]\n        } else if (openY < closeY) {\n          highLine[0] = highY\n          highLine[1] = openY\n          lowLine[0] = closeY\n          lowLine[1] = lowY\n          rect = [startX, openY, endX - startX, closeY - openY]\n        } else {\n          highLine[0] = highY\n          highLine[1] = openY\n          lowLine[0] = closeY\n          lowLine[1] = lowY\n          rect = [startX, openY, endX - startX, 1]\n        }\n        canvas.beginPath()\n        canvas.moveTo(x, highLine[0])\n        canvas.lineTo(x, highLine[1])\n        canvas.stroke()\n        canvas.closePath()\n\n        canvas.beginPath()\n        canvas.moveTo(x, lowLine[0])\n        canvas.lineTo(x, lowLine[1])\n        canvas.stroke()\n        canvas.closePath()\n        switch (this.candle.candleChart.candleStyle) {\n          case CandleStyle.SOLID: {\n            canvas.fillRect(rect[0], rect[1], rect[2], rect[3])\n            break\n          }\n          case CandleStyle.STROKE: {\n            canvas.strokeRect(rect[0], rect[1], rect[2], rect[3])\n            break\n          }\n          case CandleStyle.INCREASING_STROKE: {\n            if (model.close > model.open) {\n              canvas.strokeRect(rect[0], rect[1], rect[2], rect[3])\n            } else {\n              canvas.fillRect(rect[0], rect[1], rect[2], rect[3])\n            }\n            break\n          }\n          case CandleStyle.DECREASING_STROKE: {\n            if (model.close > model.open) {\n              canvas.fillRect(rect[0], rect[1], rect[2], rect[3])\n            } else {\n              canvas.strokeRect(rect[0], rect[1], rect[2], rect[3])\n            }\n            break\n          }\n        }\n      } else {\n        this.drawOhlcLines(canvas, halfSpace, x, openY, closeY, highY, lowY)\n      }\n      startX += this.dataBounds.dataSpace\n      ++i\n    }\n    this.highestMarkData = { x: markHighestPriceX, price: markHighestPrice }\n    this.lowestMarkData = { x: markLowestPriceX, price: markLowestPrice }\n  }\n\n  /**\n   * 绘制最高价标记\n   * @param canvas\n   */\n  drawHighestPriceMark (canvas) {\n    let price = this.highestMarkData.price\n    if (price === Number.MIN_VALUE || !this.candle.highestPriceMark.display) {\n      return\n    }\n    let color = this.candle.highestPriceMark.color || this.candle.lowestHighestPriceMarkTextColor\n    let textSize = this.candle.highestPriceMark.textSize || this.candle.lowestHighestPriceMarkTextSize\n    let valueFormatter = this.candle.highestPriceMark.valueFormatter || this.candle.lowestHighestValueFormatter\n    this.drawLowestHighestPriceMark(canvas, this.highestMarkData.x, price, color, textSize, valueFormatter, true)\n  }\n\n  /**\n   * 绘制最低价标记\n   * @param canvas\n   */\n  drawLowestPriceMark (canvas) {\n    let price = this.lowestMarkData.price\n    if (price === Number.MAX_VALUE || !this.candle.lowestPriceMark.display) {\n      return\n    }\n    let color = this.candle.lowestPriceMark.color || this.candle.lowestHighestPriceMarkTextColor\n    let textSize = this.candle.lowestPriceMark.textSize || this.candle.lowestHighestPriceMarkTextSize\n    let valueFormatter = this.candle.lowestPriceMark.valueFormatter || this.candle.lowestHighestValueFormatter\n    this.drawLowestHighestPriceMark(canvas, this.lowestMarkData.x, price, color, textSize, valueFormatter)\n  }\n\n  /**\n   * 绘制最高最低价格标记\n   * @param canvas\n   * @param x\n   * @param price\n   * @param color\n   * @param textSize\n   * @param valueFormatter\n   * @param isHigh\n   */\n  drawLowestHighestPriceMark (canvas, x, price, color, textSize, valueFormatter, isHigh = false) {\n    canvas.save()\n    canvas.beginPath()\n    canvas.rect(\n      this.viewPortHandler.contentLeft(),\n      this.viewPortHandler.contentTop(),\n      this.viewPortHandler.contentRight() - this.viewPortHandler.contentLeft(),\n      this.chartTop + this.chartHeight\n    )\n    canvas.closePath()\n    canvas.clip()\n    let priceY = this.getValueY(price)\n    let startX = x\n    let startY = priceY + (isHigh ? -4 : 4)\n    canvas.textAlign = 'left'\n    canvas.lineWidth = 1\n    canvas.strokeStyle = color\n    canvas.fillStyle = color\n    canvas.beginPath()\n    canvas.moveTo(startX, startY)\n    canvas.lineTo(startX - 4, startY + (isHigh ? -4 : 4))\n    canvas.stroke()\n    canvas.closePath()\n\n    canvas.beginPath()\n    canvas.moveTo(startX, startY)\n    canvas.lineTo(startX + 4, startY + (isHigh ? -4 : 4))\n    canvas.stroke()\n    canvas.closePath()\n    // 绘制竖线\n    canvas.beginPath()\n    canvas.moveTo(startX, startY)\n    startY = startY + (isHigh ? -10 : 10)\n    canvas.lineTo(startX, startY)\n    canvas.stroke()\n    canvas.closePath()\n\n    canvas.beginPath()\n    canvas.moveTo(startX, startY)\n    canvas.lineTo(startX + 10, startY)\n    canvas.stroke()\n    canvas.closePath()\n\n    canvas.font = textSize * 2 + 'px Arial'\n    let value = price.toFixed(2)\n    if (valueFormatter) {\n      value = valueFormatter(price) + ''\n    }\n    canvas.fillText(value, startX + 14, priceY + (isHigh ? -textSize : textSize * 2))\n    canvas.restore()\n  }\n\n  /**\n   * 绘制最新价标记\n   * @param canvas\n   */\n  drawLastPriceMark (canvas) {\n    if (!this.candle.lastPriceMark.display || this.dataBounds.dataList.length === 0) {\n      return\n    }\n\n    let lastPrice = this.dataBounds.dataList[this.dataBounds.dataList.length - 1].close\n    let priceY = this.getValueY(lastPrice)\n    priceY = Math.max(this.chartTop + this.chartHeight * 0.05, Math.min(priceY, this.chartTop + this.chartHeight * 0.98))\n\n    canvas.strokeStyle = this.candle.lastPriceMark.lineColor\n    canvas.lineWidth = this.candle.lastPriceMark.lineSize\n    if (this.candle.lastPriceMark.lineStyle === LineStyle.DASH) {\n      canvas.setLineDash(this.candle.lastPriceMark.dashValue)\n    }\n    canvas.beginPath()\n    canvas.moveTo(this.viewPortHandler.contentLeft(), priceY)\n    canvas.lineTo(this.viewPortHandler.contentRight(), priceY)\n    canvas.stroke()\n    canvas.closePath()\n    canvas.setLineDash([])\n  }\n\n  /**\n   * 绘制分时线\n   * @param canvas\n   */\n  drawTimeLine (canvas) {\n    let timeLinePoints = []\n    let timeLineAreaPoints = [{ x: this.viewPortHandler.contentLeft(), y: this.chartTop + this.chartHeight }]\n    let averageLinePoints = []\n\n    canvas.lineWidth = this.candle.timeChart.timeLineSize\n\n    let kLineDataList = this.dataBounds.dataList\n    let startX = this.viewPortHandler.contentLeft()\n    let i = this.dataBounds.min\n    let dataSpace = this.dataBounds.dataSpace - this.dataBounds.dataMarginSpaceRate * this.dataBounds.dataSpace\n    while (i < this.dataBounds.dataList.length && i < this.dataBounds.min + this.dataBounds.range) {\n      let endX = startX + dataSpace\n      let x = (startX + endX) / 2\n      let model = kLineDataList[i]\n      let closeY = this.getValueY(model.close)\n      let averagePriceY = this.getValueY(model.averagePrice)\n      timeLinePoints.push({ x: x, y: closeY })\n      if (model.averagePrice) {\n        averageLinePoints.push({ x: x, y: averagePriceY })\n      }\n      if (i === this.dataBounds.min) {\n        timeLineAreaPoints.push({ x: this.viewPortHandler.contentLeft(), y: closeY })\n        timeLineAreaPoints.push({ x: x, y: closeY })\n      } else if (i === this.dataBounds.min + this.dataBounds.range - 1) {\n        timeLineAreaPoints.push({ x: x, y: closeY })\n        timeLineAreaPoints.push({ x: this.viewPortHandler.contentRight(), y: closeY })\n        timeLineAreaPoints.push({ x: this.viewPortHandler.contentRight(), y: this.chartHeight + this.chartTop })\n      } else if (i === this.dataBounds.dataList.length - 1) {\n        timeLineAreaPoints.push({ x: x, y: closeY })\n        timeLineAreaPoints.push({ x: x, y: this.chartTop + this.chartHeight })\n      } else {\n        timeLineAreaPoints.push({ x: x, y: closeY })\n      }\n      startX += this.dataBounds.dataSpace\n      ++i\n    }\n    if (timeLinePoints.length > 0) {\n      // 绘制分时线\n      canvas.strokeStyle = this.candle.timeChart.timeLineColor\n      canvas.beginPath()\n      canvas.moveTo(timeLinePoints[0].x, timeLinePoints[0].y)\n      for (let i = 1; i < timeLinePoints.length; i++) {\n        canvas.lineTo(timeLinePoints[i].x, timeLinePoints[i].y)\n      }\n      canvas.stroke()\n      canvas.closePath()\n    }\n\n    if (timeLineAreaPoints.length > 0) {\n      // 绘制分时线填充区域\n      canvas.fillStyle = this.candle.timeChart.timeLineFillColor\n      canvas.beginPath()\n      canvas.moveTo(timeLineAreaPoints[0].x, timeLineAreaPoints[0].y)\n      for (let i = 1; i < timeLineAreaPoints.length; i++) {\n        canvas.lineTo(timeLineAreaPoints[i].x, timeLineAreaPoints[i].y)\n      }\n      canvas.closePath()\n      canvas.fill()\n    }\n\n    if (averageLinePoints.length > 0) {\n      // 绘制均线\n      canvas.strokeStyle = this.candle.timeChart.timeAverageLineColor\n      canvas.beginPath()\n      canvas.moveTo(averageLinePoints[0].x, averageLinePoints[0].y)\n      for (let i = 1; i < averageLinePoints.length; i++) {\n        canvas.lineTo(averageLinePoints[i].x, averageLinePoints[i].y)\n      }\n      canvas.stroke()\n      canvas.closePath()\n    }\n  }\n}\n\nexport default CandleChart\n","import AxisChart from './AxisChart'\nimport { LineStyle } from '../component/Component'\nimport utils from '../utils/utils'\n\nclass XAxisChart extends AxisChart {\n  constructor (xAxis, dataBounds, viewPortHandler) {\n    super(dataBounds, viewPortHandler)\n    this.xAxis = xAxis\n  }\n\n  /**\n   * 绘制\n   * @param canvas\n   */\n  draw (canvas) {\n    this.computeAxis()\n    this.drawAxisLine(canvas)\n    this.drawTickLines(canvas)\n    this.drawAxisLabels(canvas)\n    this.drawSeparatorLines(canvas)\n  }\n\n  /**\n   * 绘制轴线\n   * @param canvas\n   */\n  drawAxisLine (canvas) {\n    if (!this.xAxis.display || !this.xAxis.axisLine.display) {\n      return\n    }\n    canvas.strokeStyle = this.xAxis.axisLine.color || this.xAxis.color\n    canvas.lineWidth = this.xAxis.axisLine.size\n    canvas.beginPath()\n    canvas.moveTo(this.viewPortHandler.contentLeft(), this.viewPortHandler.contentBottom())\n    canvas.lineTo(this.viewPortHandler.contentRight(), this.viewPortHandler.contentBottom())\n    canvas.stroke()\n    canvas.closePath()\n  }\n\n  /**\n   * 绘制坐标轴上的文字\n   * @param canvas Canvas\n   */\n  drawAxisLabels (canvas) {\n    if (!this.xAxis.display || !this.xAxis.tickText.display) {\n      return\n    }\n\n    canvas.font = this.xAxis.tickText.size * 2 + 'px Arial'\n    canvas.textAlign = 'center'\n    canvas.fillStyle = this.xAxis.tickText.color || this.xAxis.color\n\n    let positions = this.pointValuesToPixel()\n    let labelHeight = this.xAxis.tickText.size * 2\n    let startY = this.viewPortHandler.contentBottom() + this.xAxis.tickText.margin * 2 + labelHeight\n    if (this.display && this.xAxis.tickLine.display) {\n      startY += this.xAxis.tickLine.size * 2\n    }\n    let formatter = this.xAxis.tickText.valueFormatter\n    for (let i = 0; i < positions.length; i += 2) {\n      let x = positions[i]\n\n      if (this.viewPortHandler.isInBoundsX(x)) {\n        let kLineModel = this.dataBounds.dataList[parseInt(this.values[i / 2])]\n        let timestamp = kLineModel.timestamp\n        let label = utils.formatDate(timestamp)\n        if (formatter) {\n          label = formatter(kLineModel)\n        }\n        canvas.fillText(label, x, startY)\n      }\n    }\n  }\n\n  /**\n   * 绘制分割线\n   * @param canvas Canvas\n   */\n  drawSeparatorLines (canvas) {\n    if (!this.xAxis.display || !this.xAxis.separatorLine.display) {\n      return\n    }\n    canvas.strokeStyle = this.xAxis.separatorLine.color || this.xAxis.color\n    canvas.lineWidth = this.xAxis.separatorLine.size\n\n    if (this.xAxis.separatorLine.style === LineStyle.DASH) {\n      canvas.setLineDash(this.xAxis.separatorLine.dashValue)\n    }\n    let positions = this.pointValuesToPixel()\n\n    for (let i = 0; i < positions.length; i += 2) {\n      let x = positions[i]\n\n      if (this.viewPortHandler.isInBoundsX(x)) {\n        canvas.beginPath()\n        canvas.moveTo(x, this.viewPortHandler.contentTop())\n        canvas.lineTo(x, this.viewPortHandler.contentBottom())\n        canvas.stroke()\n        canvas.closePath()\n      }\n    }\n    canvas.setLineDash([])\n  }\n\n  /**\n   * 绘制tick线\n   * @param canvas Canvas\n   */\n  drawTickLines (canvas) {\n    if (!this.xAxis.display || !this.xAxis.tickLine.display) {\n      return\n    }\n    canvas.lineWidth = 1\n    canvas.strokeStyle = this.xAxis.axisLine.color || this.xAxis.color\n    let positions = this.pointValuesToPixel()\n\n    let startY = this.viewPortHandler.contentBottom()\n    let endY = startY + this.xAxis.tickLine.size * 2\n\n    for (let i = 0; i < positions.length; i += 2) {\n      let x = positions[i]\n\n      if (this.viewPortHandler.isInBoundsX(x)) {\n        canvas.beginPath()\n        canvas.moveTo(x, startY)\n        canvas.lineTo(x, endY)\n        canvas.stroke()\n        canvas.closePath()\n      }\n    }\n  }\n\n  /**\n   * 获取值对应的坐标点值\n   * @return Array\n   */\n  pointValuesToPixel () {\n    let positions = []\n    for (let i = 0; i < this.valueCount * 2; i += 2) {\n      let pos = this.values[i / 2]\n      positions[i] = (pos - this.dataBounds.min) * this.dataBounds.dataSpace + this.dataBounds.dataSpace * (1 - this.dataBounds.dataMarginSpaceRate) / 2\n    }\n    return positions\n  }\n\n  computeAxis () {\n    let dataMin = this.dataBounds.min\n    let max = Math.min(dataMin + this.dataBounds.range - 1, this.dataBounds.dataList.length - 1)\n    this.computeAxisValues(dataMin, max)\n  }\n}\n\nexport default XAxisChart\n","import { LineStyle } from './Component'\n\n/**\n * 指标提示显示规则\n */\nexport const IndicatorDisplayRule = {\n  /**\n   * 总是显示\n   */\n  ALWAYS: 'always',\n  /**\n   * 跟随十字光标显示\n   */\n  FOLLOW_CROSS: 'follow_cross',\n\n  /**\n   * 一直不显示\n   */\n  NONE: 'none'\n}\n\nclass Tooltip {\n  constructor () {\n    /**\n     * 文字大小\n     */\n    this.textSize = 12\n\n    /**\n     * 光标线配置\n     */\n    this.crossLine = {\n      style: LineStyle.SOLID,\n      dashValue: [8, 8],\n      size: 1,\n      color: '#505050',\n      text: {\n        color: '#EDEDED',\n        size: 12,\n        rectStrokeLineSize: 1,\n        rectStrokeLineColor: '#EDEDED',\n        rectFillColor: '#505050',\n        margin: 4,\n        valueFormatter: null\n      }\n    }\n\n    /**\n     * 基础数据显示配置\n     */\n    this.generalData = {\n      labels: ['时间', '开', '收', '高', '低'],\n      values: null,\n      valueFormatter: null,\n      text: {\n        size: 12,\n        color: '#898989',\n        margin: 20\n      }\n    }\n\n    /**\n     * 指标数据显示配置\n     */\n    this.indicatorData = {\n      displayRule: IndicatorDisplayRule.ALWAYS,\n      valueFormatter: null,\n      text: {\n        size: 12,\n        margin: 20\n      }\n    }\n  }\n}\n\nexport default Tooltip\n","import Chart from './Chart'\nimport { IndicatorDisplayRule } from '../component/Tooltip'\nimport { ChartStyle } from '../component/Candle'\nimport { YAxisPosition, YAxisTextPosition } from '../component/YAxis'\nimport { LineStyle } from '../component/Component'\nimport { IndicatorType } from '../component/Indicator'\nimport utils from '../utils/utils'\n\nclass TooltipChart extends Chart {\n  constructor (tooltip, candle, indicator, yAxis, candleChart, volChart, indicatorChart, dataBounds, viewPortHandler) {\n    super(dataBounds, viewPortHandler)\n    this.displayCross = false\n    this.crossPoint = { x: 0, y: 0 }\n    this.tooltip = tooltip\n    this.candle = candle\n    this.indicator = indicator\n    this.yAxis = yAxis\n    this.candleChart = candleChart\n    this.volChart = volChart\n    this.indicatorChart = indicatorChart\n\n    this.yAxisLabelStrokePathPoints = []\n  }\n\n  draw (canvas) {\n    if (this.dataBounds.currentDataPos < this.dataBounds.dataList.length) {\n      let kLineModel = this.dataBounds.dataList[this.dataBounds.currentDataPos]\n      if (this.displayCross) {\n        this.crossPoint.x = this.viewPortHandler.contentLeft() +\n          this.dataBounds.dataSpace * (this.dataBounds.currentDataPos - this.dataBounds.min) +\n          this.dataBounds.dataSpace * (1 - this.dataBounds.dataMarginSpaceRate) / 2\n        canvas.font = (this.tooltip.crossLine.text.size || this.tooltip.textSize) * 2 + 'px Arial'\n\n        this.drawCrossHorizontalLine(canvas)\n        this.drawCrossVerticalLine(canvas, kLineModel)\n      }\n\n      if (this.tooltip.indicatorData.displayRule === IndicatorDisplayRule.ALWAYS ||\n        (this.tooltip.indicatorData.displayRule === IndicatorDisplayRule.FOLLOW_CROSS && this.displayCross)) {\n        let textHeight = (this.tooltip.indicatorData.text.size || this.tooltip.textSize) * 2\n        let startX = this.viewPortHandler.contentLeft() + 10\n        canvas.font = textHeight + 'px Arial'\n        this.drawGeneralDataTooltip(canvas, startX, kLineModel)\n        if (this.candle.chartStyle !== ChartStyle.TIME_LINE) {\n          // 绘制主图的指标提示文字\n          this.drawIndicatorTooltip(\n            canvas, startX,\n            this.candleChart.chartTop + 10 + textHeight + 10 + (this.tooltip.generalData.text.size || this.tooltip.textSize) * 2,\n            kLineModel, this.candleChart.indicatorType\n          )\n        }\n        // 绘制成交量指标提示文字\n        this.drawIndicatorTooltip(\n          canvas, startX,\n          this.volChart.chartTop + 4 + textHeight,\n          kLineModel, this.volChart.indicatorType\n        )\n        // 绘制副图指标提示文字\n        this.drawIndicatorTooltip(\n          canvas, startX,\n          this.indicatorChart.chartTop + 4 + textHeight,\n          kLineModel, this.indicatorChart.indicatorType\n        )\n      }\n    }\n  }\n\n  /**\n   * 绘制水平线\n   * @param canvas Canvas\n   */\n  drawCrossHorizontalLine (canvas) {\n    let yAxisDataLabel = this.getCrossYAxisLabel()\n    if (yAxisDataLabel == null) {\n      return\n    }\n    let isDrawYAxisTextOutside = this.yAxis.tickText.position === YAxisTextPosition.OUTSIDE\n    let textSize = this.tooltip.crossLine.text.size || this.tooltip.textSize\n    let yAxisDataLabelWidth = utils.calcTextWidth(textSize * 2 + 'px Arial', yAxisDataLabel)\n    let halfLabelHeight = textSize\n    let labelStartX\n    let labelStartY = this.crossPoint.y + halfLabelHeight\n\n    let lineStartX = this.viewPortHandler.contentLeft()\n    let lineEndX = this.viewPortHandler.contentRight()\n\n    let centerPoint = this.viewPortHandler.getContentCenter()\n\n    let crossTextMarginSpace = this.tooltip.crossLine.text.margin\n    let rectStrokeLineSize = this.tooltip.crossLine.text.rectStrokeLineSize\n\n    if (isDrawYAxisTextOutside) {\n      if (this.yAxis.yAxisPosition === YAxisPosition.LEFT) {\n        labelStartX = lineStartX - rectStrokeLineSize - crossTextMarginSpace * 2 - yAxisDataLabelWidth\n      } else {\n        labelStartX = lineEndX + rectStrokeLineSize + crossTextMarginSpace * 2\n      }\n    } else {\n      if (this.crossPoint.x > centerPoint.x) {\n        // 左边\n        lineStartX = this.viewPortHandler.contentLeft() +\n          rectStrokeLineSize * 2 + crossTextMarginSpace * 3 + yAxisDataLabelWidth\n        labelStartX = this.viewPortHandler.contentLeft() + rectStrokeLineSize + crossTextMarginSpace\n      } else {\n        lineEndX = this.viewPortHandler.contentRight() - rectStrokeLineSize * 2 - crossTextMarginSpace * 3 - yAxisDataLabelWidth\n        labelStartX = lineEndX + rectStrokeLineSize + crossTextMarginSpace * 2\n      }\n    }\n\n    if ((!isDrawYAxisTextOutside && this.crossPoint.x > centerPoint.x) ||\n      (isDrawYAxisTextOutside && this.yAxis.yAxisPosition === YAxisPosition.LEFT)) {\n      // 左边\n      this.yAxisLabelStrokePathPoints[0] = { x: lineStartX, y: this.crossPoint.y }\n      this.yAxisLabelStrokePathPoints[1] = {\n        x: lineStartX - crossTextMarginSpace,\n        y: this.crossPoint.y - halfLabelHeight - crossTextMarginSpace\n      }\n      this.yAxisLabelStrokePathPoints[2] = {\n        x: lineStartX - crossTextMarginSpace * 3 - yAxisDataLabelWidth,\n        y: this.yAxisLabelStrokePathPoints[1].y\n      }\n      this.yAxisLabelStrokePathPoints[3] = {\n        x: this.yAxisLabelStrokePathPoints[2].x,\n        y: this.crossPoint.y + halfLabelHeight + crossTextMarginSpace\n      }\n      this.yAxisLabelStrokePathPoints[4] = {\n        x: this.yAxisLabelStrokePathPoints[1].x,\n        y: this.yAxisLabelStrokePathPoints[3].y\n      }\n    } else {\n      // 右边\n      this.yAxisLabelStrokePathPoints[0] = { x: lineEndX, y: this.crossPoint.y }\n      this.yAxisLabelStrokePathPoints[1] = {\n        x: lineEndX + crossTextMarginSpace,\n        y: this.crossPoint.y - halfLabelHeight - crossTextMarginSpace\n      }\n      this.yAxisLabelStrokePathPoints[2] = {\n        x: lineEndX + crossTextMarginSpace * 3 + yAxisDataLabelWidth,\n        y: this.yAxisLabelStrokePathPoints[1].y\n      }\n      this.yAxisLabelStrokePathPoints[3] = {\n        x: this.yAxisLabelStrokePathPoints[2].x,\n        y: this.crossPoint.y + halfLabelHeight + crossTextMarginSpace\n      }\n      this.yAxisLabelStrokePathPoints[4] = {\n        x: this.yAxisLabelStrokePathPoints[1].x,\n        y: this.yAxisLabelStrokePathPoints[3].y\n      }\n    }\n\n    // 绘制十字光标垂直线\n    canvas.lineWidth = this.tooltip.crossLine.size\n    canvas.strokeStyle = this.tooltip.crossLine.color\n    if (this.tooltip.crossLine.style === LineStyle.DASH) {\n      canvas.setLineDash(this.tooltip.crossLine.dashValue)\n    }\n    canvas.beginPath()\n    canvas.moveTo(lineStartX, this.crossPoint.y)\n    canvas.lineTo(lineEndX, this.crossPoint.y)\n    canvas.stroke()\n    canvas.closePath()\n    canvas.setLineDash([])\n\n    // 绘制y轴文字外的边框\n    canvas.fillStyle = this.tooltip.crossLine.rectFillColor\n    canvas.beginPath()\n    canvas.moveTo(this.yAxisLabelStrokePathPoints[0].x, this.yAxisLabelStrokePathPoints[0].y)\n    for (let i = 1; i < this.yAxisLabelStrokePathPoints.length; i++) {\n      canvas.lineTo(this.yAxisLabelStrokePathPoints[i].x, this.yAxisLabelStrokePathPoints[i].y)\n    }\n    canvas.closePath()\n    canvas.fill()\n\n    canvas.lineWidth = this.tooltip.crossLine.rectStrokeLineSize\n    canvas.strokeStyle = this.tooltip.crossLine.rectStrokeLineColor\n    canvas.beginPath()\n    canvas.moveTo(this.yAxisLabelStrokePathPoints[0].x, this.yAxisLabelStrokePathPoints[0].y)\n    for (let i = 1; i < this.yAxisLabelStrokePathPoints.length; i++) {\n      canvas.lineTo(this.yAxisLabelStrokePathPoints[i].x, this.yAxisLabelStrokePathPoints[i].y)\n    }\n    canvas.closePath()\n    canvas.stroke()\n\n    canvas.fillStyle = this.tooltip.crossLine.text.color\n    canvas.fillText(yAxisDataLabel, labelStartX, labelStartY)\n  }\n\n  /**\n   * 获取十字光标y轴上的文字\n   */\n  getCrossYAxisLabel () {\n    let candleChartYAxis = this.candleChart.yAxisChart\n    let candleChartHeight = candleChartYAxis.chartHeight\n    let candleChartTop = candleChartYAxis.chartTop\n\n    let volChartYAxis = this.volChart.yAxisChart\n    let volChartHeight = volChartYAxis.chartHeight\n    let volChartTop = volChartYAxis.chartTop\n\n    let indicatorChartYAxis = this.indicatorChart.yAxisChart\n    let indicatorChartHeight = indicatorChartYAxis.chartHeight\n    let indicatorChartTop = indicatorChartYAxis.chartTop\n\n    let eventY = this.crossPoint.y\n    if (eventY > candleChartTop && eventY < (candleChartHeight + candleChartTop)) {\n      let candleChartYAxisDataMin = candleChartYAxis.axisMinimum\n      let candleChartYAxisDataMax = candleChartYAxis.axisMaximum\n      let yData = (1 - (eventY - candleChartTop) / candleChartHeight) * (candleChartYAxisDataMax - candleChartYAxisDataMin) + candleChartYAxisDataMin\n      let text = yData.toFixed(2)\n      if (this.tooltip.crossLine.text.valueFormatter) {\n        text = this.tooltip.crossLine.text.valueFormatter('y', yData) || '--'\n      }\n      return text\n    } else if (eventY > volChartTop && eventY < volChartTop + volChartHeight) {\n      let volIndicatorChartYAxisDataMin = volChartYAxis.axisMinimum\n      let volIndicatorChartYAxisDataMax = volChartYAxis.axisMaximum\n      let yData = (1 - (eventY - volChartTop) / volChartHeight) * (volIndicatorChartYAxisDataMax - volIndicatorChartYAxisDataMin) + volIndicatorChartYAxisDataMin\n      let text = yData.toFixed(0)\n      if (this.tooltip.crossLine.text.valueFormatter) {\n        text = this.tooltip.crossLine.text.valueFormatter('y', yData) || '--'\n      }\n      return text\n    } else if (eventY > indicatorChartTop && eventY < indicatorChartTop + indicatorChartHeight) {\n      let indicatorChartYAxisDataMin = indicatorChartYAxis.axisMinimum\n      let indicatorChartYAxisDataMax = indicatorChartYAxis.axisMaximum\n      let yData = (1 - (eventY - indicatorChartTop) / indicatorChartHeight) * (indicatorChartYAxisDataMax - indicatorChartYAxisDataMin) + indicatorChartYAxisDataMin\n      let text = yData.toFixed(2)\n      if (this.indicatorChart.indicatorType === IndicatorType.VOL) {\n        text = yData.toFixed(0)\n      }\n      if (this.tooltip.crossLine.text.valueFormatter) {\n        text = this.tooltip.crossLine.text.valueFormatter('y', yData) || '--'\n      }\n      return text\n    }\n    return null\n  }\n\n  /**\n   * 绘制十字光标垂直线\n   * @param canvas Canvas\n   * @param kLineModel KLineModel\n   */\n  drawCrossVerticalLine (canvas, kLineModel) {\n    canvas.lineWidth = this.tooltip.crossLine.size\n    canvas.strokeStyle = this.tooltip.crossLine.color\n\n    if (this.tooltip.crossLine.style === LineStyle.DASH) {\n      canvas.setLineDash(this.tooltip.crossLine.dashValue)\n    }\n\n    canvas.beginPath()\n    canvas.moveTo(this.crossPoint.x, this.viewPortHandler.contentTop())\n    canvas.lineTo(this.crossPoint.x, this.viewPortHandler.contentBottom())\n    canvas.stroke()\n    canvas.closePath()\n    canvas.setLineDash([])\n\n    let timestamp = kLineModel.timestamp\n    let label = utils.formatDate(timestamp)\n    if (this.tooltip.crossLine.text.valueFormatter) {\n      label = this.tooltip.crossLine.text.valueFormatter('x', kLineModel) || '--'\n    }\n    let textSize = this.tooltip.crossLine.text.size || this.tooltip.textSize\n    let labelWidth = utils.calcTextWidth(textSize * 2 + 'px Arial', label)\n    let xAxisLabelX = this.crossPoint.x - labelWidth / 2\n    let crossTextMarginSpace = this.tooltip.crossLine.text.margin\n    let rectStrokeLineSize = this.tooltip.crossLine.text.rectStrokeLineSize\n    // 保证整个x轴上的提示文字总是完全显示\n    if (xAxisLabelX < this.viewPortHandler.contentLeft() + crossTextMarginSpace + rectStrokeLineSize) {\n      xAxisLabelX = this.viewPortHandler.contentLeft()\n    } else if (xAxisLabelX > this.viewPortHandler.contentRight() - labelWidth - rectStrokeLineSize) {\n      xAxisLabelX = this.viewPortHandler.contentRight() - labelWidth - rectStrokeLineSize\n    }\n\n    let rectLeft = xAxisLabelX - rectStrokeLineSize - crossTextMarginSpace\n    let rectTop = this.viewPortHandler.contentBottom()\n    let rectRight = xAxisLabelX + labelWidth + crossTextMarginSpace + rectStrokeLineSize\n    let rectBottom = this.viewPortHandler.contentBottom() + textSize * 2 + rectStrokeLineSize + crossTextMarginSpace * 2\n    canvas.fillStyle = this.tooltip.crossLine.text.rectFillColor\n    canvas.fillRect(rectLeft, rectTop, rectRight - rectLeft, rectBottom - rectTop)\n\n    canvas.lineWidth = rectStrokeLineSize\n    canvas.strokeStyle = this.tooltip.crossLine.rectStrokeLineColor\n    canvas.strokeRect(rectLeft, rectTop, rectRight - rectLeft, rectBottom - rectTop)\n\n    // 绘制轴上的提示文字\n    canvas.fillStyle = this.tooltip.crossLine.text.color\n    canvas.fillText(\n      label,\n      xAxisLabelX,\n      this.viewPortHandler.contentBottom() + textSize * 2 + rectStrokeLineSize + crossTextMarginSpace\n    )\n  }\n\n  /**\n   * 绘制基础数据提示\n   * @param canvas\n   * @param startX\n   * @param kLineModel\n   */\n  drawGeneralDataTooltip (canvas, startX, kLineModel) {\n    let textSize = this.tooltip.generalData.text.size || this.tooltip.textSize\n    canvas.font = textSize * 2 + 'px Arial'\n    let textColor = this.tooltip.generalData.text.color\n    let values = []\n    if (this.tooltip.generalData.values) {\n      values = this.tooltip.generalData.values(kLineModel) || []\n    } else {\n      let formatter = this.tooltip.generalData.valueFormatter\n      let time = utils.formatDate(kLineModel.timestamp)\n      let open = kLineModel.open.toFixed(2)\n      let close = kLineModel.close.toFixed(2)\n      let high = kLineModel.high.toFixed(2)\n      let low = kLineModel.low.toFixed(2)\n      if (formatter) {\n        time = formatter(0, kLineModel.timestamp) || '--'\n        open = formatter(1, kLineModel.open) || '--'\n        close = formatter(2, kLineModel.close) || '--'\n        high = formatter(3, kLineModel.high) || '--'\n        low = formatter(4, kLineModel.low) || '--'\n      }\n      values = [time, open, close, high, low]\n    }\n    let labels = this.tooltip.generalData.labels\n    for (let i = 0; i < labels.length; i++) {\n      let label = (labels[i] || '--') + ': '\n      let labelWidth = utils.calcTextWidth(textSize * 2 + 'px Arial', label)\n      canvas.fillStyle = textColor\n      canvas.fillText(label, startX, textSize * 2 + 4)\n      startX += labelWidth\n\n      let value = values[i] || '--'\n      let text\n      if (typeof value === 'object') {\n        text = value.value || '--'\n        canvas.fillStyle = value.color || textColor\n      } else {\n        canvas.fillStyle = textColor\n        text = value\n      }\n      let textWidth = utils.calcTextWidth(textSize * 2 + 'px Arial', text)\n      canvas.fillText(text, startX, textSize * 2 + 4)\n      startX += textWidth + this.tooltip.generalData.text.margin\n    }\n  }\n\n  /**\n   * 绘制指标提示文字\n   * @param canvas\n   * @param startX\n   * @param startY\n   * @param kLineModel\n   * @param indicatorType\n   */\n  drawIndicatorTooltip (canvas, startX, startY, kLineModel, indicatorType) {\n    switch (indicatorType) {\n      case IndicatorType.MA: {\n        let maData = kLineModel.ma\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [maData.ma5, maData.ma10, maData.ma20, maData.ma60],\n          ['MA5', 'MA10', 'MA20', 'MA60'],\n          kLineModel, IndicatorType.MA\n        )\n        break\n      }\n      case IndicatorType.MACD: {\n        let macdData = kLineModel.macd\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [macdData.diff, macdData.dea, macdData.macd],\n          ['DIFF', 'DEA', 'MACD'],\n          kLineModel, IndicatorType.MACD\n        )\n        break\n      }\n      case IndicatorType.VOL: {\n        let volData = kLineModel.vol\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [volData.ma5, volData.ma10, volData.ma20, volData.num],\n          ['MA5', 'MA10', 'MA20', 'VOLUME'],\n          kLineModel, IndicatorType.VOL\n        )\n        break\n      }\n      case IndicatorType.BOLL: {\n        let bollData = kLineModel.boll\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [bollData.up, bollData.mid, bollData.dn],\n          ['UP', 'MID', 'DN'],\n          kLineModel, IndicatorType.BOLL\n        )\n        break\n      }\n      case IndicatorType.BIAS: {\n        let biasData = kLineModel.bias\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [biasData.bias1, biasData.bias2, biasData.bias3],\n          ['BIAS6', 'BIAS12', 'BIAS24'],\n          kLineModel, IndicatorType.BIAS\n        )\n        break\n      }\n      case IndicatorType.BRAR: {\n        let brarData = kLineModel.brar\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [brarData.br, brarData.ar],\n          ['BR', 'AR'],\n          kLineModel, IndicatorType.BRAR\n        )\n        break\n      }\n      case IndicatorType.CCI: {\n        let cciData = kLineModel.cci\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [cciData.cci],\n          ['CCI'],\n          kLineModel, IndicatorType.CCI\n        )\n        break\n      }\n      case IndicatorType.CR: {\n        let crData = kLineModel.cr\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [crData.cr, crData.ma1, crData.ma2, crData.ma3, crData.ma4],\n          ['CR', 'MA1', 'MA2', 'MA3', 'MA4'],\n          kLineModel, IndicatorType.CR\n        )\n        break\n      }\n      case IndicatorType.DMA: {\n        let dmaData = kLineModel.dma\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [dmaData.dif, dmaData.difMa],\n          ['DIF', 'DIFMA'],\n          kLineModel, IndicatorType.DMA\n        )\n        break\n      }\n      case IndicatorType.DMI: {\n        let dmiData = kLineModel.dmi\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [dmiData.mdi, dmiData.pdi, dmiData.adx, dmiData.adxr],\n          ['MDI', 'PDI', 'ADX', 'ADXR'],\n          kLineModel, IndicatorType.DMI\n        )\n        break\n      }\n      case IndicatorType.KDJ: {\n        let kdjData = kLineModel.kdj\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [kdjData.k, kdjData.d, kdjData.j],\n          ['K', 'D', 'J'],\n          kLineModel, IndicatorType.KDJ\n        )\n        break\n      }\n      case IndicatorType.KD: {\n        let kdjData = kLineModel.kdj\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [kdjData.k, kdjData.d],\n          ['K', 'D'],\n          kLineModel, IndicatorType.KDJ\n        )\n        break\n      }\n      case IndicatorType.RSI: {\n        let rsiData = kLineModel.rsi\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [rsiData.rsi1, rsiData.rsi2, rsiData.rsi3],\n          ['RSI6', 'RSI12', 'RSI24'],\n          kLineModel, IndicatorType.RSI\n        )\n        break\n      }\n      case IndicatorType.PSY: {\n        let psyData = kLineModel.psy\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [psyData.psy],\n          ['PSY'],\n          kLineModel, IndicatorType.PSY\n        )\n        break\n      }\n      case IndicatorType.TRIX: {\n        let trixData = kLineModel.trix\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [trixData.trix, trixData.maTrix],\n          ['TRIX', 'MATRIX'],\n          kLineModel, IndicatorType.TRIX\n        )\n        break\n      }\n      case IndicatorType.OBV: {\n        let obvData = kLineModel.obv\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [obvData.obv, obvData.maObv],\n          ['OBV', 'MAOBV'],\n          kLineModel, IndicatorType.OBV\n        )\n        break\n      }\n      case IndicatorType.VR: {\n        let vrModel = kLineModel.vr\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [vrModel.vr, vrModel.maVr],\n          ['VR', 'MAVR'],\n          kLineModel, IndicatorType.VR\n        )\n        break\n      }\n      case IndicatorType.WR: {\n        let wrModel = kLineModel.wr\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [wrModel.wr1, wrModel.wr2, wrModel.wr3],\n          ['WR1', 'WR2', 'WR3'],\n          kLineModel, IndicatorType.WR\n        )\n        break\n      }\n      case IndicatorType.MTM: {\n        let mtmModel = kLineModel.mtm\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [mtmModel.mtm, mtmModel.mtmMa],\n          ['MTM', 'MTMMA'],\n          kLineModel, IndicatorType.MTM\n        )\n        break\n      }\n\n      case IndicatorType.EMV: {\n        let emvModel = kLineModel.emv\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [emvModel.emv, emvModel.maEmv],\n          ['EMV', 'MAEMV'],\n          kLineModel, IndicatorType.EMV\n        )\n        break\n      }\n\n      case IndicatorType.SAR: {\n        let sarModel = kLineModel.sar\n        this.drawIndicatorTooltipLabels(\n          canvas, startX, startY,\n          [sarModel.sar],\n          ['SAR'],\n          kLineModel, IndicatorType.SAR\n        )\n        break\n      }\n    }\n  }\n\n  /**\n   * 绘制指标提示文字\n   * @param canvas\n   * @param startX\n   * @param startY\n   * @param values\n   * @param labels\n   * @param kLineModel\n   * @param indicatorType\n   */\n  drawIndicatorTooltipLabels (canvas, startX, startY, values, labels, kLineModel, indicatorType) {\n    let labelX = startX\n    for (let i = 0; i < values.length; i++) {\n      let value = values[i]\n      let valueStr = '--'\n      if (value || value === 0) {\n        if (indicatorType === IndicatorType.VOL) {\n          valueStr = value.toFixed(0)\n        } else {\n          valueStr = value.toFixed(2)\n        }\n      }\n      if (this.tooltip.indicatorData.valueFormatter) {\n        valueStr = this.tooltip.indicatorData.valueFormatter(indicatorType, value) || '--'\n      }\n\n      let text = labels[i] + ': ' + valueStr\n      let textWidth = utils.calcTextWidth((this.tooltip.indicatorData.text.size || this.tooltip.textSize) * 2 + 'px Arial', text)\n      canvas.fillStyle = this.indicator.lineColors[i]\n      canvas.fillText(text, labelX, startY)\n      labelX += this.tooltip.indicatorData.text.margin + textWidth\n    }\n  }\n\n  /**\n   * 设置会否显示cross\n   */\n  setCross (y, display) {\n    this.crossPoint.y = y\n    this.displayCross = display\n  }\n}\n\nexport default TooltipChart\n","import Axis from './Axis'\n\nclass XAxis extends Axis {\n  constructor () {\n    super()\n    /**\n     * x轴最大高度\n     */\n    this.xAxisMaxHeight = 20\n\n    /**\n     * x轴最小高度\n     */\n    this.xAxisMinHeight = 20\n  }\n\n  /**\n   * 计算x轴需要的高度\n   * @return number\n   */\n  getRequiredHeightSpace () {\n    let height = this.tickText.size * 2 + this.tickText.margin * 2\n    if (this.display && this.tickLine.display) {\n      height += this.tickLine.size * 2\n    }\n    if (this.display && this.axisLine.display) {\n      height += this.axisLine.size\n    }\n    let maxHeight = height\n    if (this.xAxisMaxHeight > 0) {\n      maxHeight = this.xAxisMaxHeight * 2\n    }\n    height = Math.max(this.xAxisMinHeight * 2, Math.min(height, maxHeight))\n\n    return height\n  }\n}\n\nexport default XAxis\n","class Grid {\n  constructor () {\n    this.display = true\n\n    /**\n     * 边框线尺寸\n     */\n    this.lineSize = 1\n\n    /**\n     * 边框线颜色\n     */\n    this.lineColor = '#707070'\n  }\n}\n\nexport default Grid\n","class Event {\n  constructor (kline, dataBounds, viewPortHandler) {\n    this.kline = kline\n    this.dataBounds = dataBounds\n    this.viewPortHandler = viewPortHandler\n  }\n\n  /**\n   * 是否是有效事件\n   * @param point\n   * @returns {boolean}\n   */\n  isValidEvent (point) {\n    return !(point.x < this.viewPortHandler.contentLeft() ||\n      point.x > this.viewPortHandler.contentRight() ||\n      point.y < this.viewPortHandler.contentTop() ||\n      point.y > this.viewPortHandler.contentBottom())\n  }\n}\n\nexport default Event\n","import Event from './Event'\nconst CROSS = 'cross'\nconst DRAG = 'drag'\n\nclass MouseEvent extends Event {\n  constructor (kline, dataBounds, viewPortHandler) {\n    super(kline, dataBounds, viewPortHandler)\n    // 事件模型\n    this.mouseMode = CROSS\n    this.mouseDownPoint = { x: 0, y: 0 }\n  }\n\n  /**\n   * 鼠标按下时事件\n   * @param e\n   */\n  mouseDown (e) {\n    let point = this.getCanvasPoint(e)\n    if (!this.isValidEvent(point)) {\n      return\n    }\n    this.mouseMode = DRAG\n    this.mouseDownPoint.x = e.x\n    this.mouseDownPoint.y = e.y\n    this.kline.tooltipChart.setCross(point.y, false)\n    this.kline.freshen()\n  }\n\n  /**\n   * 鼠标抬起时事件\n   * @param e\n   */\n  mouseUp (e) {\n    let point = this.getCanvasPoint(e)\n    if (!this.isValidEvent(point)) {\n      return\n    }\n    this.mouseMode = CROSS\n    this.kline.tooltipChart.setCross(point.y, true)\n    this.kline.freshen()\n  }\n\n  mouseLeave (e) {\n    let point = this.getCanvasPoint(e)\n    this.kline.tooltipChart.setCross(point.y, false)\n    this.kline.freshen()\n  }\n\n  /**\n   * 鼠标移动时事件\n   * @param e\n   */\n  mouseMove (e) {\n    let point = this.getCanvasPoint(e)\n    if (!this.isValidEvent(point)) {\n      this.kline.tooltipChart.setCross(point.y, false)\n      this.kline.freshen()\n      return\n    }\n    if (this.mouseMode === DRAG) {\n      let moveDist = e.x - this.mouseDownPoint.x\n      if (moveDist > this.dataBounds.dataSpace / 2) {\n        if (this.dataBounds.min === 0 || this.dataBounds.dataList.length < this.dataBounds.range) {\n          return false\n        }\n\n        this.mouseDownPoint.x = e.x\n\n        let moveRange = +Math.abs(moveDist / this.dataBounds.dataSpace).toFixed(0)\n        if (moveRange === 0) {\n          moveRange = 1\n        }\n\n        this.dataBounds.min -= moveRange\n        if (this.dataBounds.min <= 0) {\n          this.dataBounds.min = 0\n        }\n        this.kline.freshen()\n      } else if (moveDist < 0 - this.dataBounds.dataSpace / 2) {\n        if (this.dataBounds.min + this.dataBounds.range === this.dataBounds.dataList.length || this.dataBounds.dataList.length < this.dataBounds.range) {\n          return false\n        }\n\n        this.mouseDownPoint.x = e.x\n\n        let moveRange = +Math.abs(moveDist / this.dataBounds.dataSpace).toFixed(0)\n        if (moveRange === 0) {\n          moveRange = 1\n        }\n\n        this.dataBounds.min += moveRange\n        if (this.dataBounds.min >= this.dataBounds.dataList.length - this.dataBounds.range) {\n          this.dataBounds.min = this.dataBounds.dataList.length - this.dataBounds.range\n        }\n        this.kline.freshen()\n      }\n    } else if (this.mouseMode === CROSS) {\n      this.dataBounds.calcCurrentDataIndex(point.x)\n      this.kline.tooltipChart.setCross(point.y, true)\n      this.kline.freshen()\n    }\n  }\n\n  /**\n   * 鼠标滚轮事件\n   * @param e\n   */\n  mouseWheel (e) {\n    let touchStartPosition = this.dataBounds.min\n    let touchRange = this.dataBounds.range\n    let delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)))\n    // 是否缩小\n    let isZoomingOut = delta === 1\n    let scaleX = 1\n\n    if (isZoomingOut) {\n      scaleX = 0.95\n      if (this.dataBounds.range >= this.dataBounds.maxRange) {\n        // 无法继续缩小\n        return false\n      }\n    } else {\n      scaleX = 1.05\n      if (this.dataBounds.range <= this.dataBounds.minRange) {\n        // 无法继续放大\n        return false\n      }\n    }\n\n    // 计算缩放后的range大小\n    this.dataBounds.range = +(touchRange / scaleX).toFixed(0)\n\n    this.dataBounds.range = Math.min(Math.max(this.dataBounds.range, this.dataBounds.minRange), this.dataBounds.maxRange)\n\n    this.dataBounds.min = touchStartPosition + touchRange - this.dataBounds.range\n    if (this.dataBounds.min + this.dataBounds.range > this.dataBounds.dataList.length) {\n      this.dataBounds.min = 0\n    }\n    if (this.dataBounds.min < 0) {\n      this.dataBounds.min = 0\n    }\n    this.kline.freshen()\n  }\n\n  /**\n   * 获取事件对应画布上的点\n   * @param e\n   * @returns {{x: number, y: number}}\n   */\n  getCanvasPoint (e) {\n    let rect = this.kline.canvasDom.getBoundingClientRect()\n    let x = Math.round(e.clientX - rect.left)\n    let y = Math.round(e.clientY - rect.top)\n    return { x: x * 2, y: y * 2 }\n  }\n}\n\nexport default MouseEvent\n","import Event from './Event'\n/**\n * 无\n */\nconst TOUCH_NO = 0\n\n/**\n * 拖拽\n */\nconst TOUCH_DRAG = 1\n\n/**\n * 缩放\n */\nconst TOUCH_ZOOM = 2\n\n/**\n *\n */\nconst TOUCH_POST_ZOOM = 3\n\n/**\n * 十字光标\n */\nconst TOUCH_CROSS = 4\n\n/**\n * 十字光标取消\n */\nconst TOUCH_CROSS_CANCEL = 5\n\nclass TouchEvent extends Event {\n  constructor (kline, dataBounds, viewPortHandler) {\n    super(kline, dataBounds, viewPortHandler)\n    // 事件模型\n    this.touchMode = TOUCH_NO\n    this.touchStartPoint = { x: 0, y: 0 }\n    this.touchMovePoint = { x: 0, y: 0 }\n    this.touchCrossPoint = { x: 0, y: 0 }\n    this.savedDist = 1\n    this.savedXDist = 1\n    this.touchRange = this.dataBounds.range\n    this.touchStartPosition = this.dataBounds.min\n\n    this.delayTimeout = null\n    this.delayActiveCross = () => {\n      if (this.touchMode === TOUCH_NO || this.touchMode === TOUCH_CROSS_CANCEL) {\n        if (this.kline) {\n          this.touchMode = TOUCH_CROSS\n          this.touchCrossPoint = { x: this.touchStartPoint.x, y: this.touchStartPoint.y }\n          dataBounds.calcCurrentDataIndex(this.touchCrossPoint.x)\n          this.kline.tooltipChart.setCross(this.touchCrossPoint.y, true)\n          this.kline.freshen()\n        }\n      }\n    }\n  }\n\n  /**\n   * 触摸事件开始\n   * @param e\n   */\n  touchStart (e) {\n    if (e.targetTouches.length === 1) {\n      this.touchStartPoint = { x: e.targetTouches[0].clientX * 2, y: e.targetTouches[0].clientY * 2 }\n      this.touchMovePoint = { x: e.targetTouches[0].clientX * 2, y: e.targetTouches[0].clientY * 2 }\n      if (!this.isValidEvent(this.touchStartPoint)) {\n        return\n      }\n      if (this.touchMode === TOUCH_CROSS) {\n        e.preventDefault()\n        let crossRadius = this.distance(e.targetTouches[0].clientX * 2, this.touchCrossPoint.x, e.targetTouches[0].clientY * 2, this.touchCrossPoint.y)\n        if (crossRadius < 10) {\n          this.performCross(e)\n        } else {\n          this.touchMode = TOUCH_CROSS_CANCEL\n          this.kline.tooltipChart.setCross(0, false)\n          this.kline.freshen()\n        }\n      } else {\n        this.touchMode = TOUCH_NO\n      }\n      this.removeDelayActiveCross()\n      this.postDelayDelayActiveCross()\n    } else if (e.targetTouches.length > 1) {\n      if (!this.isValidEvent(this.touchStartPoint)) {\n        return\n      }\n      if (this.touchMode !== TOUCH_CROSS) {\n        e.preventDefault()\n        this.savedDist = this.spacing(e)\n        this.savedXDist = this.getXDist(e)\n        if (this.savedDist > 3) {\n          this.touchMode = TOUCH_ZOOM\n        }\n        this.touchRange = this.dataBounds.range\n        this.touchStartPosition = this.dataBounds.min\n      }\n    }\n  }\n\n  /**\n   * 触摸事件移动\n   * @param e\n   */\n  touchMove (e) {\n    if (!this.isValidEvent(this.touchStartPoint)) {\n      return\n    }\n    switch (this.touchMode) {\n      case TOUCH_ZOOM: {\n        e.preventDefault()\n        this.performZoom(e)\n        break\n      }\n      case TOUCH_DRAG: {\n        e.preventDefault()\n        this.performDrag(e)\n        break\n      }\n      case TOUCH_CROSS: {\n        e.preventDefault()\n        this.performCross(e)\n        break\n      }\n      case TOUCH_CROSS_CANCEL: {\n        this.removeDelayActiveCross()\n        break\n      }\n      case TOUCH_NO: {\n        let distance = Math.abs(this.distance(e.targetTouches[0].clientX * 2, this.touchStartPoint.x, e.targetTouches[0].clientY * 2, this.touchStartPoint.y))\n        if (distance > 10) {\n          let distanceX = Math.abs(e.targetTouches[0].clientX * 2 - this.touchStartPoint.x)\n          let distanceY = Math.abs(e.targetTouches[0].clientY * 2 - this.touchStartPoint.y)\n          if (distanceY <= distanceX) {\n            e.preventDefault()\n            this.kline.tooltipChart.setCross(0, false)\n            this.touchMode = TOUCH_DRAG\n            this.kline.freshen()\n          }\n        }\n        this.removeDelayActiveCross()\n      }\n    }\n  }\n\n  /**\n   * 触摸事件结束\n   * @param e\n   */\n  touchEnd (e) {\n    if (!this.isValidEvent(this.touchStartPoint)) {\n      return\n    }\n    if (e.targetTouches.length > 0) {\n      if (this.touchMode === TOUCH_CROSS) {\n        this.performCross(e)\n      } else {\n        this.touchMode = TOUCH_POST_ZOOM\n      }\n    } else {\n      this.removeDelayActiveCross()\n      if (this.touchMode !== TOUCH_CROSS) {\n        // 拿起\n        this.touchMode = TOUCH_NO\n        this.kline.tooltipChart.setCross(0, false)\n        this.kline.freshen()\n      }\n    }\n  }\n\n  /**\n   * 处理拖拽视图事件\n   * @param e\n   * @returns {boolean}\n   */\n  performDrag (e) {\n    // 左右滑动事件\n    let moveDist = e.targetTouches[0].clientX * 2 - this.touchMovePoint.x\n    if (moveDist < 0 - this.dataBounds.dataSpace / 2) {\n      if (this.dataBounds.min + this.dataBounds.range === this.dataBounds.dataList.length || this.dataBounds.dataList.length < this.dataBounds.range) {\n        return false\n      }\n\n      this.touchMovePoint.x = e.targetTouches[0].clientX * 2\n\n      let moveRange = +Math.abs(moveDist / this.dataBounds.dataSpace).toFixed(0)\n      if (moveRange === 0) {\n        moveRange = 1\n      }\n\n      this.dataBounds.min += moveRange\n      if (this.dataBounds.min >= this.dataBounds.dataList.length - this.dataBounds.range) {\n        this.dataBounds.min = this.dataBounds.dataList.length - this.dataBounds.range\n      }\n      this.kline.freshen()\n    } else if (moveDist > this.dataBounds.dataSpace / 2) {\n      if (this.dataBounds.min === 0 || this.dataBounds.dataList.length < this.dataBounds.range) {\n        return false\n      }\n\n      this.touchMovePoint.x = e.targetTouches[0].clientX * 2\n\n      let moveRange = +Math.abs(moveDist / this.dataBounds.dataSpace).toFixed(0)\n      if (moveRange === 0) {\n        moveRange = 1\n      }\n\n      this.dataBounds.min -= moveRange\n      if (this.dataBounds.min <= 0) {\n        this.dataBounds.min = 0\n      }\n      this.kline.freshen()\n    }\n  }\n\n  /**\n   * 处理缩放\n   * @param e\n   * @returns {boolean}\n   */\n  performZoom (e) {\n    if (e.targetTouches.length > 1) {\n      let totalDist = this.spacing(e)\n      if (totalDist > 10) {\n        let xDist = this.getXDist(e)\n        // x轴方向 scale\n        let scaleX = xDist / this.savedXDist\n\n        // 是否缩小\n        let isZoomingOut = scaleX < 1\n\n        if (isZoomingOut) {\n          if (this.dataBounds.range >= this.dataBounds.maxRange) {\n            // 无法继续缩小\n            return false\n          }\n        } else {\n          if (this.dataBounds.range <= this.dataBounds.minRange) {\n            // 无法继续放大\n            return false\n          }\n        }\n\n        // 计算缩放后的range大小\n        this.dataBounds.range = +(this.touchRange / scaleX).toFixed(0)\n\n        this.dataBounds.range = Math.min(Math.max(this.dataBounds.range, this.dataBounds.minRange), this.dataBounds.maxRange)\n\n        this.dataBounds.min = this.touchStartPosition + this.touchRange - this.dataBounds.range\n        if (this.dataBounds.min + this.dataBounds.range > this.dataBounds.dataList.length) {\n          this.dataBounds.min = 0\n        }\n        if (this.dataBounds.min < 0) {\n          this.dataBounds.min = 0\n        }\n        this.kline.freshen()\n      }\n    }\n  }\n\n  /**\n   * 处理移动光标\n   * @param e\n   * @returns {boolean}\n   */\n  performCross (e) {\n    this.touchCrossPoint = { x: e.targetTouches[0].clientX * 2, y: e.targetTouches[0].clientY * 2 }\n    this.dataBounds.calcCurrentDataIndex(this.touchCrossPoint.x)\n    this.kline.tooltipChart.setCross(this.touchCrossPoint.y, true)\n    this.kline.freshen()\n  }\n\n  /**\n   * 执行延迟事件\n   */\n  postDelayDelayActiveCross () {\n    this.delayTimeout = setTimeout(this.delayActiveCross, 200)\n  }\n\n  /**\n   * 移除延迟事件\n   */\n  removeDelayActiveCross () {\n    if (this.delayTimeout) {\n      clearTimeout(this.delayTimeout)\n      this.delayTimeout = null\n    }\n  }\n\n  /**\n   * 两点之间的距离\n   * @param eventX\n   * @param startX\n   * @param eventY\n   * @param startY\n   * @returns {*}\n   */\n  distance (eventX, startX, eventY, startY) {\n    let dx = eventX - startX\n    let dy = eventY - startY\n    return Math.sqrt(dx * dx + dy * dy)\n  }\n\n  /**\n   * 计算移动距离\n   * @param e\n   * @returns {*}\n   */\n  spacing (e) {\n    if (e.targetTouches.length < 2) {\n      return 0\n    }\n    let x = Math.abs(e.targetTouches[0].clientX * 2 - e.targetTouches[1].clientX * 2)\n    let y = Math.abs(e.targetTouches[0].clientY * 2 - e.targetTouches[1].clientY * 2)\n    return Math.sqrt(x * x + y * y)\n  }\n\n  /**\n   * 获取两点间x的距离\n   * @param e\n   * @returns {number}\n   */\n  getXDist (e) {\n    return Math.abs(e.targetTouches[0].clientX * 2 - e.targetTouches[1].clientX * 2)\n  }\n}\n\nexport default TouchEvent\n","/**\n * 计算均线数据\n * @param data\n * @returns {*}\n */\nexport function calculationMa (data) {\n  let ma5Num = 0.0\n  let ma10Num = 0.0\n  let ma20Num = 0.0\n  let ma60Num = 0.0\n\n  let ma5\n  let ma10\n  let ma20\n  let ma60\n\n  let totalTurnover = 0.0\n  let totalVolume = 0.0\n\n  for (let i = 0; i < data.length; i++) {\n    totalVolume += data[i].volume\n    totalTurnover += (data[i].turnover || 0)\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    let close = data[i].close\n    ma5Num += close\n    ma10Num += close\n    ma20Num += close\n    ma60Num += close\n    if (i < 5) {\n      ma5 = ma5Num / (i + 1)\n    } else {\n      ma5Num -= data[i - 5].close\n      ma5 = ma5Num / 5\n    }\n\n    if (i < 10) {\n      ma10 = ma10Num / (i + 1)\n    } else {\n      ma10Num -= data[i - 10].close\n      ma10 = ma10Num / 10\n    }\n\n    if (i < 20) {\n      ma20 = ma20Num / (i + 1)\n    } else {\n      ma20Num -= data[i - 20].close\n      ma20 = ma20Num / 20\n    }\n\n    if (i < 60) {\n      ma60 = ma60Num / (i + 1)\n    } else {\n      ma60Num -= data[i - 60].close\n      ma60 = ma60Num / 60\n    }\n    data[i].ma = { ma5, ma10, ma20, ma60 }\n  }\n  return data\n}\n\n/**\n * 计算成交量包含ma5、ma10、ma20\n *\n * @param data\n * @return\n */\nexport function calculationVol (data) {\n  let ma5s = 0\n  let ma10s = 0\n  let ma20s = 0\n  let ma5\n  let ma10\n  let ma20\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    let num = data[i].volume\n    ma5s += num\n    ma10s += num\n    ma20s += num\n\n    if (i < 5) {\n      ma5 = ma5s / (i + 1)\n    } else {\n      ma5s -= data[i - 5].volume\n      ma5 = ma5s / 5\n    }\n\n    if (i < 10) {\n      ma10 = ma10s / (i + 1)\n    } else {\n      ma10s -= data[i - 10].volume\n      ma10 = ma10s / 10\n    }\n\n    if (i < 20) {\n      ma20 = ma20s / (i + 1)\n    } else {\n      ma20s -= data[i - 20].volume\n      ma20 = ma20s / 20\n    }\n    data[i].vol = { num, ma5, ma10, ma20 }\n  }\n  return data\n}\n\n/**\n * 计算MACD指标\n *\n * @param data\n * @return\n */\nexport function calculationMacd (data) {\n  // MACD：参数快线移动平均、慢线移动平均、移动平均，\n  // 参数值12、26、9。\n  // 公式：⒈首先分别计算出收盘价12日指数平滑移动平均线与26日指数平滑移动平均线，分别记为EMA(12）与EMA(26）。\n  // ⒉求这两条指数平滑移动平均线的差，即：DIFF=EMA（SHORT）－EMA（LONG）。\n  // ⒊再计算DIFF的M日的平均的指数平滑移动平均线，记为DEA。\n  // ⒋最后用DIFF减DEA，得MACD。MACD通常绘制成围绕零轴线波动的柱形图。MACD柱状大于0红色，小于0绿色。\n  let ema12\n  let ema26\n  let oldEma12 = 0\n  let oldEma26 = 0\n  let diff = 0\n  let dea = 0\n  let oldDea = 0\n  let macd = 0\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    let closePrice = data[i].close\n    if (i > 0) {\n      ema12 = (2 * closePrice + 11 * oldEma12) / 13\n      ema26 = (2 * closePrice + 25 * oldEma26) / 27\n      diff = ema12 - ema26\n      dea = (diff * 2 + oldDea * 8) / 10\n      macd = (diff - dea) * 2\n      oldEma12 = ema12\n      oldEma26 = ema26\n      oldDea = dea\n    }\n    data[i].macd = { diff, dea, macd }\n  }\n  return data\n}\n\n/**\n * 计算BOLL指标\n *\n * @param data\n * @return\n */\nexport function calculationBoll (data) {\n  let closes26 = 0// MA\n  let closes25 = 0\n  let ma// 中轨线\n  let mb\n  let md// 标准差\n  let up// 上轨线\n  let dn// 下轨线\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    let closePrice = data[i].close\n    closes26 += closePrice\n    closes25 += closePrice\n    if (i >= 24) {\n      mb = closes25 / 25\n      closes25 -= data[i - 24].close\n    } else {\n      mb = closes25 / (i + 1)\n    }\n    if (i >= 25) {\n      ma = closes26 / 26\n      md = getBollMd(data.slice(i - 25, i + 1), ma)\n      closes26 -= data[i - 25].close\n    } else {\n      ma = closes26 / (i + 1)\n      md = getBollMd(data.slice(0, i + 1), ma)\n    }\n    up = mb + 2 * md\n    dn = mb - 2 * md\n    data[i].boll = { up, mid: ma, dn }\n  }\n  return data\n}\n\n/**\n * 计算KDJ\n *\n * @param data\n * @return\n */\nexport function calculationKdj (data) {\n  let k\n  let d\n  let j\n\n  // n日内最低价\n  let ln\n  // n日内最高价\n  let hn\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    // n日收盘价\n    let cn = data[i].close\n\n    if (i < 8) {\n      ln = getLow(data.slice(0, i + 1))\n      hn = getHigh(data.slice(0, i + 1))\n    } else {\n      ln = getLow(data.slice(i - 8, i + 1))\n      hn = getHigh(data.slice(i - 8, i + 1))\n    }\n    let rsv = (cn - ln) / (hn - ln === 0 ? 1 : hn - ln) * 100\n    // 当日K值=2/3×前一日K值+1/3×当日RSV\n    // 当日D值=2/3×前一日D值+1/3×当日K值\n    // 若无前一日K 值与D值，则可分别用50来代替。\n    // J值=3*当日K值-2*当日D值\n    k = 2.0 / 3.0 * (i < 8 ? 50.0 : data[i - 1].kdj.k) + 1.0 / 3.0 * rsv\n    d = 2.0 / 3.0 * (i < 8 ? 50.0 : data[i - 1].kdj.d) + 1.0 / 3.0 * k\n    j = 3.0 * k - 2.0 * d\n    data[i].kdj = { k, d, j }\n  }\n  return data\n}\n\n/**\n * 计算RSI\n *\n * @param data\n * @return\n */\nexport function calculationRsi (data) {\n  // N日RSI =\n  // N日内收盘涨幅的平均值/(N日内收盘涨幅均值+N日内收盘跌幅均值) ×100%\n  let rsi1 = 0// 参数6\n  let rsi2 = 0// 参数12\n  let rsi3 = 0// 参数24\n\n  let sumCloseA = 0\n  let sumCloseB = 0\n\n  let a1\n  let b1\n  let oldA1 = 0\n  let oldB1 = 0\n\n  let a2\n  let b2\n  let oldA2 = 0\n  let oldB2 = 0\n\n  let a3\n  let b3\n  let oldA3 = 0\n  let oldB3 = 0\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    if (i > 0) {\n      let tmp = data[i].close - data[i - 1].close\n      if (tmp > 0) {\n        sumCloseA += tmp\n      } else {\n        sumCloseB += tmp\n      }\n      let AA = tmp > 0 ? tmp : 0\n      let BB = Math.abs(tmp)\n\n      if (i < 6) {\n        a1 = sumCloseA / (i + 1)\n        b1 = (Math.abs(sumCloseB) + sumCloseA) / (i + 1)\n      } else {\n        a1 = (AA + 5 * oldA1) / 6\n        b1 = (BB + 5 * oldB1) / 6\n      }\n      oldA1 = a1\n      oldB1 = b1\n      rsi1 = a1 / b1 * 100\n\n      if (i < 12) {\n        a2 = sumCloseA / (i + 1)\n        b2 = (Math.abs(sumCloseB) + sumCloseA) / (i + 1)\n      } else {\n        a2 = (AA + 11 * oldA2) / 12\n        b2 = (BB + 11 * oldB2) / 12\n      }\n      oldA2 = a2\n      oldB2 = b2\n      rsi2 = a2 / b2 * 100\n\n      if (i < 24) {\n        a3 = sumCloseA / (i + 1)\n        b3 = (Math.abs(sumCloseB) + sumCloseA) / (i + 1)\n      } else {\n        a3 = (AA + 23 * oldA3) / 24\n        b3 = (BB + 23 * oldB3) / 24\n      }\n      oldA3 = a3\n      oldB3 = b3\n      rsi3 = a3 / b3 * 100\n    }\n    data[i].rsi = { rsi1, rsi2, rsi3 }\n  }\n  return data\n}\n\n/**\n * 计算BIAS指标\n *\n * @param data\n * @return\n */\nexport function calculationBias (data) {\n  // 乖离率=[(当日收盘价-N日平均价)/N日平均价]*100%\n  // 参数：6，12、24\n  let bias1\n  let bias2\n  let bias3\n  let closes1 = 0\n  let closes2 = 0\n  let closes3 = 0\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    let closePrice = data[i].close\n    closes1 += closePrice\n    closes2 += closePrice\n    closes3 += closePrice\n\n    if (i < 6) {\n      let mean6 = closes1 / (i + 1)\n      bias1 = ((closePrice - mean6) / mean6) * 100\n    } else {\n      closes1 -= data[i - 6].close\n      let mean6 = closes1 / 6\n      bias1 = ((closePrice - mean6) / mean6) * 100\n    }\n\n    if (i < 12) {\n      let mean12 = closes2 / (i + 1)\n      bias2 = ((closePrice - mean12) / mean12) * 100\n    } else {\n      closes2 -= data[i - 12].close\n      let mean12 = closes2 / 12\n      bias2 = ((closePrice - mean12) / mean12) * 100\n    }\n\n    if (i < 24) {\n      let mean24 = closes3 / (i + 1)\n      bias3 = ((closePrice - mean24) / mean24) * 100\n    } else {\n      closes3 -= data[i - 24].close\n      let mean24 = closes3 / 24\n      bias3 = ((closePrice - mean24) / mean24) * 100\n    }\n\n    data[i].bias = { bias1, bias2, bias3 }\n  }\n  return data\n}\n\n/**\n * 计算BRAR指标\n *\n * @param data\n * @return\n */\nexport function calculationBrar (data) {\n  // 参数是26。\n  // 公式N日BR=N日内（H－CY）之和除以N日内（CY－L）之和*100，\n  // 其中，H为当日最高价，L为当日最低价，CY为前一交易日的收盘价，N为设定的时间参数。\n  // N日AR=(N日内（H－O）之和除以N日内（O－L）之和)*100，\n  // 其中，H为当日最高价，L为当日最低价，O为当日开盘价，N为设定的时间参数\n  let br = 0\n  let ar = 0\n  let hcy = 0\n  let cyl = 0\n  let ho = 0\n  let ol = 0\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    let highestPrice = data[i].high\n    let lowestPrice = data[i].low\n    let openPrice = data[i].open\n\n    ho += (highestPrice - openPrice)\n    ol += (openPrice - lowestPrice)\n\n    if (i > 25) {\n      ho -= (data[i - 26].high - data[i - 26].open)\n      ol -= (data[i - 26].open - data[i - 26].low)\n    }\n\n    if (ol !== 0) {\n      ar = ho / ol * 100\n    }\n\n    if (i > 0) {\n      let preClosePrice = data[i - 1].close\n      let highSubPreClose = highestPrice - preClosePrice\n      if (highSubPreClose < 0) {\n        highSubPreClose = 0\n      }\n      hcy += highSubPreClose\n      let preCloseSubLow = preClosePrice - lowestPrice\n      if (preCloseSubLow < 0) {\n        preCloseSubLow = 0\n      }\n      cyl += preCloseSubLow\n      if (cyl !== 0) {\n        br = hcy / cyl * 100\n      }\n    }\n    data[i].brar = { br, ar }\n  }\n  return data\n}\n\n/**\n * 计算CCI指标\n *\n * @param data\n * @return\n */\nexport function calculationCci (data) {\n  // 中价与 中价的N日内移动平均 的差 除以 N日内中价的平均绝对偏差\n  // 其中，中价等于最高价、最低价和收盘价之和除以3\n  // ={【79-（79+62+45+90+25）/5）】\n  // +【62-（79+62+45+90+25）/5）】\n  // +【45-（79+62+45+90+25）/5）】\n  // +【90-（79+62+45+90+25）/5）】\n  // +【25-（79+62+45+90+25）/5）】}/5\n  let TYPEs = 0\n  let cci\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    let TYP = (data[i].high + data[i].low + data[i].close) / 3\n    TYPEs += TYP\n    if (i >= 13) {\n      let TYPEsMean = TYPEs / 14\n      TYPEs -= (data[i - 13].high + data[i - 13].low + data[i - 13].close) / 3\n\n      let types = 0\n      for (let j = i - 13; j < i + 1; j++) {\n        let typ = (data[j].high + data[j].low + data[j].close) / 3\n        types += Math.abs(typ - TYPEsMean)\n      }\n      let MD = types / 14\n      if (MD === 0) {\n        cci = 0\n      } else {\n        cci = 200 * (TYP - TYPEsMean) / 3 / MD\n      }\n    } else {\n      let TYPEsMean = TYPEs / (i + 1)\n      let types = 0\n      for (let j = 0; j < i + 1; j++) {\n        let typ = (data[j].high + data[j].low + data[j].close) / 3\n        types += Math.abs(typ - TYPEsMean)\n      }\n      let MD = types / (i + 1)\n      if (MD === 0) {\n        cci = 0\n      } else {\n        cci = 200 * (TYP - TYPEsMean) / 3 / MD\n      }\n    }\n    data[i].cci = { cci }\n  }\n  return data\n}\n\n/**\n * 计算DMI\n *\n * @param data\n * @return\n */\nexport function calculationDmi (data) {\n  // 参数 14，6\n  // MTR:=EXPMEMA(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(REF(CLOSE,1)-LOW)),N)\n  // HD :=HIGH-REF(HIGH,1);\n  // LD :=REF(LOW,1)-LOW;\n  // DMP:=EXPMEMA(IF(HD>0&&HD>LD,HD,0),N);\n  // DMM:=EXPMEMA(IF(LD>0&&LD>HD,LD,0),N);\n  //\n  // PDI: DMP*100/MTR;\n  // MDI: DMM*100/MTR;\n  // ADX: EXPMEMA(ABS(MDI-PDI)/(MDI+PDI)*100,MM);\n  // ADXR:EXPMEMA(ADX,MM);\n  // 公式含义：\n  // MTR赋值:最高价-最低价和最高价-昨收的绝对值的较大值和昨收-最低价的绝对值的较大值的N日指数平滑移动平均\n  // HD赋值:最高价-昨日最高价\n  // LD赋值:昨日最低价-最低价\n  // DMP赋值:如果HD>0并且HD>LD,返回HD,否则返回0的N日指数平滑移动平均\n  // DMM赋值:如果LD>0并且LD>HD,返回LD,否则返回0的N日指数平滑移动平均\n  // 输出PDI:DMP*100/MTR\n  // 输出MDI:DMM*100/MTR\n  // 输出ADX:MDI-PDI的绝对值/(MDI+PDI)*100的MM日指数平滑移动平均\n  // 输出ADXR:ADX的MM日指数平滑移动平均\n  let pdi = 0\n  let mdi = 0\n  let adx = 0\n  let adxr = 0\n\n  let HD\n  let LD\n  let refClose\n  let sumMax = []\n  let sumMaxDmp = []\n  let sumMaxDmm = []\n  let sumAdx = []\n  let sumAdxr = []\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    if (i > 0) {\n      refClose = data[i - 1].close\n      HD = data[i].high - data[i - 1].high\n      LD = data[i - 1].low - data[i].low\n\n      let max1 = data[i].high - data[i].low > Math.abs(data[i].high - refClose)\n        ? data[i].high - data[i].low\n        : Math.abs(data[i].high - refClose)\n      let max2 = max1 > Math.abs(refClose) - data[i].low\n        ? max1\n        : Math.abs(refClose) - data[i].low\n      sumMax.push(max2)\n\n      let H\n      if (HD > 0 && HD > LD) {\n        H = HD\n      } else {\n        H = 0\n      }\n      sumMaxDmp.push(H)\n\n      let L\n      if (LD > 0 && LD > HD) {\n        L = LD\n      } else {\n        L = 0\n      }\n      sumMaxDmm.push(L)\n\n      let sumMax1 = 0\n      let sumMaxDmp1 = 0\n      let sumMaxDmm1 = 0\n      for (let j = 0; j < sumMax.length; j++) {\n        sumMax1 += sumMax[j]\n        sumMaxDmp1 += sumMaxDmp[j]\n        sumMaxDmm1 += sumMaxDmm[j]\n      }\n      let mtr = sumMax1\n      let dmp = sumMaxDmp1\n      let dmm = sumMaxDmm1\n\n      pdi = dmp * 100 / mtr\n      mdi = dmm * 100 / mtr\n      let adxN1 = Math.abs((mdi - pdi)) / (mdi + pdi) * 100\n      sumAdx.push(adxN1)\n\n      let sum = 0\n      for (let j = 0; j < sumAdx.length; j++) {\n        sum += sumAdx[j]\n      }\n      adx = sum / 6\n      sumAdxr.push(adx)\n\n      let sum1 = 0\n      sum1 += sumAdxr[0]\n      sum1 += sumAdxr[sumAdxr.length - 1]\n      adxr = sum1 / 2\n\n      if (i >= 14) {\n        sumMax.remove(0)\n        sumMaxDmp.remove(0)\n        sumMaxDmm.remove(0)\n      }\n      if (i >= 19) {\n        sumAdx.remove(0)\n      }\n      if (i >= 25) {\n        sumAdxr.remove(0)\n      }\n    }\n    data[i].dmi = { pdi, mdi, adx, adxr }\n  }\n  return data\n}\n\n/**\n * 计算CR\n *\n * @param data\n * @return\n */\nexport function calculationCr (data) {\n  // 参数26、10、20、40、60\n  // MID:=REF(HIGH+LOW,1)/2;\n  // CR:SUM(MAX(0,HIGH-MID),N)/SUM(MAX(0,MID-LOW),N)*100;\n  // MA1:REF(MA(CR,M1),M1/2.5+1);\n  // MA2:REF(MA(CR,M2),M2/2.5+1);\n  // MA3:REF(MA(CR,M3),M3/2.5+1);\n  // MA4:REF(MA(CR,M4),M4/2.5+1);\n  // MID赋值:(昨日最高价+昨日最低价)/2\n  // 输出带状能量线:0和最高价-MID的较大值的N日累和/0和MID-最低价的较大值的N日累和*100\n  // 输出MA1:M1(5)/2.5+1日前的CR的M1(5)日简单移动平均\n  // 输出MA2:M2(10)/2.5+1日前的CR的M2(10)日简单移动平均\n  // 输出MA3:M3(20)/2.5+1日前的CR的M3(20)日简单移动平均\n  // 输出MA4:M4/2.5+1日前的CR的M4日简单移动平均\n  let cr = 0\n  let ma1\n  let ma2\n  let ma3\n  let ma4\n  let p1 = 0\n  let p2 = 0\n  let ma10Sum = 0\n  let ma10\n  let ma10List = []\n  let ma20Sum = 0\n  let ma20\n  let ma20List = []\n  let ma40Sum = 0\n  let ma40\n  let ma40List = []\n  let ma60Sum = 0\n  let ma60\n  let ma60List = []\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    if (i > 0) {\n      let preHighestPrice = data[i - 1].high\n      let preLowestPrice = data[i - 1].low\n      let preClosePrice = data[i - 1].close\n      let preOpenPrice = data[i - 1].open\n      let preMidPrice = (preHighestPrice + preClosePrice + preLowestPrice + preOpenPrice) / 4\n\n      let highestPrice = data[i].high\n      let lowestPrice = data[i].low\n\n      let highSubPreMid = highestPrice - preMidPrice\n      if (highSubPreMid < 0) {\n        highSubPreMid = 0\n      }\n      p1 += highSubPreMid\n\n      let preMidSubLow = preMidPrice - lowestPrice\n      if (preMidSubLow < 0) {\n        preMidSubLow = 0\n      }\n      p2 += preMidSubLow\n\n      if (i > 26) {\n        let firstHighestPrice = data[i - 27].high\n        let firstLowestPrice = data[i - 27].low\n        let firstClosePrice = data[i - 27].close\n        let firstOpenPrice = data[i - 27].open\n        let firstMidPrice = (firstHighestPrice + firstLowestPrice + firstClosePrice + firstOpenPrice) / 4\n\n        let secondHighestPrice = data[i - 26].high\n        let secondLowestPrice = data[i - 26].low\n\n        let secondHighSubFirstMid = secondHighestPrice - firstMidPrice\n        if (secondHighSubFirstMid < 0) {\n          secondHighSubFirstMid = 0\n        }\n\n        let firstMidSubSecondLow = firstMidPrice - secondLowestPrice\n        if (firstMidSubSecondLow < 0) {\n          firstMidSubSecondLow = 0\n        }\n        p1 -= secondHighSubFirstMid\n        p2 -= firstMidSubSecondLow\n      }\n\n      if (p2 !== 0) {\n        cr = p1 / p2 * 100\n      }\n\n      let YM = (data[i - 1].high + data[i - 1].low + data[i - 1].close) / 3\n      let HYM = data[i].high - YM\n      p1 += (HYM <= 0 ? 0 : HYM)\n      let LYM = YM - data[i].low\n      p2 += (LYM <= 0 ? 0 : LYM)\n    }\n    ma10Sum += cr\n    ma20Sum += cr\n    ma40Sum += cr\n    ma60Sum += cr\n\n    if (i < 10) {\n      ma10 = ma10Sum / (i + 1)\n    } else {\n      ma10Sum -= data[i - 10].cr.cr\n      ma10 = ma10Sum / 10\n    }\n    ma10List.push(ma10)\n\n    if (i < 20) {\n      ma20 = ma20Sum / (i + 1)\n    } else {\n      ma20Sum -= data[i - 20].cr.cr\n      ma20 = ma20Sum / 20\n    }\n    ma20List.push(ma20)\n\n    if (i < 40) {\n      ma40 = ma40Sum / (i + 1)\n    } else {\n      ma40Sum -= data[i - 40].cr.cr\n      ma40 = ma40Sum / 40\n    }\n    ma40List.push(ma40)\n\n    if (i < 60) {\n      ma60 = ma60Sum / (i + 1)\n    } else {\n      ma60Sum -= data[i - 60].cr.cr\n      ma60 = ma60Sum / 60\n    }\n    ma60List.push(ma60)\n\n    if (i < 5) {\n      ma1 = ma10List.get(0)\n    } else {\n      ma1 = ma10List[i - 5]\n    }\n\n    if (i < 9) {\n      ma2 = ma20List.get(0)\n    } else {\n      ma2 = ma20List[i - 9]\n    }\n\n    if (i < 17) {\n      ma3 = ma40List.get(0)\n    } else {\n      ma3 = ma40List[i - 17]\n    }\n\n    if (i < 25) {\n      ma4 = ma60List.get(0)\n    } else {\n      ma4 = ma60List[i - 25]\n    }\n    data[i].cr = { cr, ma1, ma2, ma3, ma4 }\n  }\n  return data\n}\n\n/**\n * 计算PSY\n *\n * @param data\n * @return\n */\nexport function calculationPsy (data) {\n  // PSY：参数是12。公式：PSY=N日内的上涨天数/N×100%。\n  let psy = 0\n  let upDay = 0\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    if (i > 0) {\n      upDay += (data[i].close - data[i - 1].close > 0 ? 1 : 0)\n      if (i >= 12) {\n        psy = upDay / 12 * 100\n        upDay -= (data[i - 11].close - data[i - 12].close > 0 ? 1 : 0)\n      } else {\n        psy = upDay / i * 100\n      }\n    }\n    data[i].psy = { psy }\n  }\n  return data\n}\n\n/**\n * 计算DMA\n *\n * @param data\n * @return\n */\nexport function calculationDma (data) {\n  // 参数是10、50、10。公式：DIF:MA(CLOSE,N1)-MA(CLOSE,N2);DIFMA:MA(DIF,M)\n  let dif\n  let difMa\n  let ma10s = 0\n  let ma10\n  let ma50s = 0\n  let ma50\n  let dif10s = 0\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    let closePrice = data[i].close\n\n    ma10s += closePrice\n    ma50s += closePrice\n\n    if (i < 10) {\n      ma10 = ma10s / (i + 1)\n    } else {\n      ma10s -= data[i - 10].close\n      ma10 = ma10s / 10\n    }\n\n    if (i < 50) {\n      ma50 = ma50s / (i + 1)\n    } else {\n      ma50s -= data.get[i - 50].close\n      ma50 = ma50s / 50\n    }\n    dif = ma10 - ma50\n    dif10s += dif\n\n    if (i < 10) {\n      difMa = dif10s / (i + 1)\n    } else {\n      dif10s -= data[i - 10].dma.dif\n      difMa = dif10s / 10\n    }\n\n    data[i].dma = { dif, difMa }\n  }\n  return data\n}\n\n/**\n * 计算TRIX\n *\n * @param data\n * @return\n */\nexport function calculationTrix (data) {\n  // TR=收盘价的N日指数移动平均的N日指数移动平均的N日指数移动平均；\n  // TRIX=(TR-昨日TR)/昨日TR*100；\n  // MATRIX=TRIX的M日简单移动平均；\n  // 参数N设为12，参数M设为20；\n  // 参数12、20\n  // 公式：MTR:=EMA(EMA(EMA(CLOSE,N),N),N)\n  // TRIX:(MTR-REF(MTR,1))/REF(MTR,1)*100;\n  // TRMA:MA(TRIX,M)\n  let trix = 0\n  let maTrix\n  let sumTrix = 0\n\n  let sumClose = 0\n  let emaClose\n  let oldEmaClose = 0\n  let sumEmaClose = 0\n  let ema2\n  let oldEma2 = 0\n  let sumEma2 = 0\n  let ema3\n  let oldEma3 = 0\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    let closePrice = data[i].close\n    sumClose += closePrice\n    if (i < 12) {\n      emaClose = sumClose / (i + 1)\n    } else {\n      emaClose = (closePrice * 2 + oldEmaClose * 11) / 13\n    }\n    oldEmaClose = emaClose\n    sumEmaClose += emaClose\n\n    if (i < 12) {\n      ema2 = sumEmaClose / (i + 1)\n    } else {\n      ema2 = (emaClose * 2 + oldEma2 * 11) / 13\n    }\n    oldEma2 = ema2\n    sumEma2 += ema2\n    if (i < 12) {\n      ema3 = sumEma2 / (i + 1)\n    } else {\n      ema3 = (ema2 * 2 + oldEma3 * 11) / 13\n    }\n    if (oldEma3 !== 0) {\n      trix = (ema3 - oldEma3) / oldEma3 * 100\n    }\n    sumTrix += trix\n    oldEma3 = ema3\n    if (i < 20) {\n      maTrix = sumTrix / (i + 1)\n    } else {\n      maTrix = sumTrix / 20\n      sumTrix -= data[i - 19].trix.trix\n    }\n    data[i].trix = { trix, maTrix }\n  }\n  return data\n}\n\n/**\n * 计算obv指标\n * 计算公式： V × [（C - L）- （H - C）]/（H - C）\n * V: 成交量, C: 收盘价， L: 最低价, H: 最高价\n * @param data\n * @return\n */\nexport function calculationObv (data) {\n  let sumObv = 0\n  let maObv\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    let closePrice = data[i].close\n    let highestPrice = data[i].high\n    let highSubClose = highestPrice - closePrice\n    let obv = data[i].volume * (closePrice - data[i].low - highSubClose) / highestPrice\n    sumObv += obv\n    if (i < 30) {\n      maObv = sumObv / (i + 1)\n    } else {\n      sumObv = sumObv - data[i - 30].obv.obv\n      maObv = sumObv / 30\n    }\n    data[i].obv = { obv, maObv }\n  }\n  return data\n}\n\n/**\n * 计算vr指标\n * 默认参数24 ， 30\n * VR=（AVS+1/2CVS）/（BVS+1/2CVS）\n * 24天以来凡是股价上涨那一天的成交量都称为AV，将24天内的AV总和相加后称为AVS\n * 24天以来凡是股价下跌那一天的成交量都称为BV，将24天内的BV总和相加后称为BVS\n * 24天以来凡是股价不涨不跌，则那一天的成交量都称为CV，将24天内的CV总和相加后称为CVS\n * @param data\n * @return\n */\nexport function calculationVr (data) {\n  let avs = 0\n  let bvs = 0\n  let cvs = 0\n  let vr = 0\n  let maVr\n  let sumVr = 0\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    if (i < 24) {\n      let closePrice = data[i].close\n      let openPrice = data[i].open\n      let volume = data[i].volume\n      if (closePrice > openPrice) {\n        avs += volume\n      } else if (closePrice < openPrice) {\n        bvs += volume\n      } else {\n        cvs += volume\n      }\n    } else {\n      for (let j = i - 24; j < i; j++) {\n        let closePrice = data[j].close\n        let openPrice = data[j].open\n        let volume = data[j].volume\n        if (j === i - 24) {\n          avs = 0\n          bvs = 0\n          cvs = 0\n        }\n        if (closePrice > openPrice) {\n          avs += volume\n        } else if (closePrice < openPrice) {\n          bvs += volume\n        } else {\n          cvs += volume\n        }\n      }\n    }\n    let v = bvs + 1 / 2 * cvs\n    if (v !== 0) {\n      vr = (avs + 1 / 2 * cvs) / v * 100\n    }\n    sumVr += vr\n    if (i < 30) {\n      maVr = sumVr / (i + 1)\n    } else {\n      sumVr -= data[i - 30].vr.vr\n      maVr = sumVr / 30\n    }\n    data[i].vr = { vr, maVr }\n  }\n  return data\n}\n\n/**\n * 计算wr指标\n * 默认参数13 34 89\n * 公式 WR(N) = 100 * [ HIGH(N)-C ] / [ HIGH(N)-LOW(N) ]\n * @param data\n * @return\n */\nexport function calculationWr (data) {\n  let wr1 = 0\n  let wr2 = 0\n  let wr3 = 0\n  let wr1HighestPrice = Number.MIN_VALUE\n  let wr1LowestPrice = Number.MAX_VALUE\n  let wr2HighestPrice = Number.MIN_VALUE\n  let wr2LowestPrice = Number.MAX_VALUE\n  let wr3HighestPrice = Number.MIN_VALUE\n  let wr3LowestPrice = Number.MAX_VALUE\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    let closePrice = data[i].close\n    if (i < 13) {\n      let highPrice = data[i].high\n      let lowPrice = data[i].low\n      wr1HighestPrice = Math.max(highPrice, wr1HighestPrice)\n      wr1LowestPrice = Math.min(lowPrice, wr1LowestPrice)\n      wr2HighestPrice = Math.max(highPrice, wr2HighestPrice)\n      wr2LowestPrice = Math.min(lowPrice, wr2LowestPrice)\n      wr3HighestPrice = Math.max(highPrice, wr3HighestPrice)\n      wr3LowestPrice = Math.min(lowPrice, wr3LowestPrice)\n      let highSubLow = wr1HighestPrice - wr1LowestPrice\n      if (highSubLow !== 0) {\n        wr1 = (wr1HighestPrice - closePrice) / highSubLow * 100\n      }\n      wr2 = wr1\n      wr3 = wr1\n    } else {\n      for (let j = i - 13; j < i; j++) {\n        if (j === i - 13) {\n          wr1HighestPrice = data[j].high\n          wr1LowestPrice = data[j].low\n        } else {\n          wr1HighestPrice = Math.max(data[j].high, wr1HighestPrice)\n          wr1LowestPrice = Math.min(data[j].low, wr1LowestPrice)\n        }\n        let highSubLow = wr1HighestPrice - wr1LowestPrice\n        if (highSubLow !== 0) {\n          wr1 = (wr1HighestPrice - closePrice) / highSubLow * 100\n        }\n      }\n      if (i < 34) {\n        let highPrice = data[i].high\n        let lowPrice = data[i].low\n        wr2HighestPrice = Math.max(highPrice, wr2HighestPrice)\n        wr2LowestPrice = Math.min(lowPrice, wr2LowestPrice)\n        wr3HighestPrice = Math.max(highPrice, wr3HighestPrice)\n        wr3LowestPrice = Math.min(lowPrice, wr3LowestPrice)\n        let highSubLow = wr2HighestPrice - wr2LowestPrice\n        if (highSubLow !== 0) {\n          wr2 = (wr2HighestPrice - closePrice) / highSubLow * 100\n        }\n        wr3 = wr2\n      } else {\n        for (let j = i - 34; j < i; j++) {\n          if (j === i - 34) {\n            wr2HighestPrice = data[j].high\n            wr2LowestPrice = data[j].low\n          } else {\n            wr2HighestPrice = Math.max(data[j].high, wr2HighestPrice)\n            wr2LowestPrice = Math.min(data[j].low, wr2LowestPrice)\n          }\n          let highSubLow = wr2HighestPrice - wr2LowestPrice\n          if (highSubLow !== 0) {\n            wr2 = (wr2HighestPrice - closePrice) / highSubLow * 100\n          }\n        }\n        if (i < 89) {\n          let highPrice = data[i].high\n          let lowPrice = data[i].low\n          wr3HighestPrice = Math.max(highPrice, wr3HighestPrice)\n          wr3LowestPrice = Math.min(lowPrice, wr3LowestPrice)\n          let highSubLow = wr3HighestPrice - wr3LowestPrice\n          if (highSubLow !== 0) {\n            wr3 = (wr3HighestPrice - closePrice) / highSubLow * 100\n          }\n        } else {\n          for (let j = i - 89; j < i; j++) {\n            if (j === i - 89) {\n              wr3HighestPrice = data[j].high\n              wr3LowestPrice = data[j].low\n            } else {\n              wr3HighestPrice = Math.max(data[j].high, wr3HighestPrice)\n              wr3LowestPrice = Math.min(data[j].low, wr3LowestPrice)\n            }\n            let highSubLow = wr3HighestPrice - wr3LowestPrice\n            if (highSubLow !== 0) {\n              wr3 = (wr3HighestPrice - closePrice) / highSubLow * 100\n            }\n          }\n        }\n      }\n    }\n    data[i].wr = { wr1, wr2, wr3 }\n  }\n  return data\n}\n\n/**\n * 计算mtm指标\n * 默认参数6 10\n * 公式 MTM（N日）=C－CN\n * @param data\n * @return\n */\nexport function calculationMtm (data) {\n  let mtm\n  let mtmSum = 0\n  let mtmMa\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    let closePrice = data[i].close\n    if (i < 6) {\n      mtm = closePrice - data[0].close\n    } else {\n      mtm = closePrice - data[i - 6].close\n    }\n    mtmSum += mtm\n    if (i < 10) {\n      mtmMa = mtmSum / (i + 1)\n    } else {\n      mtmSum -= data[i - 10].mtm.mtm\n      mtmMa = mtmSum / 10\n    }\n    data[i].mtm = { mtm, mtmMa }\n  }\n  return data\n}\n\n/**\n * 简易波动指标\n * 默认参数N为14，参数M为9\n * 公式：\n * A=（今日最高+今日最低）/2\n * B=（前日最高+前日最低）/2\n * C=今日最高-今日最低\n * EM=（A-B）*C/今日成交额\n * EMV=N日内EM的累和\n * MAEMV=EMV的M日的简单移动平均\n * @param data\n * @return\n */\nexport function calculationEmv (data) {\n  let emv = 0\n  let maEmv\n  let sumEmv = 0\n  let em = 0\n\n  let emList = []\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    if (i > 0) {\n      let highestPrice = data[i].high\n      let lowestPrice = data[i].low\n      let preHighestPrice = data[i - 1].high\n      let preLowestPrice = data[i - 1].low\n      let highSubLow = highestPrice - lowestPrice\n      let halfHighAddLow = (highestPrice + lowestPrice) / 2\n      let preHalfHighAddLow = (preHighestPrice + preLowestPrice) / 2\n      em = (halfHighAddLow - preHalfHighAddLow) * highSubLow / turnover\n    }\n    emList.push(em)\n    if (i < 14) {\n      emv += em\n    } else {\n      emv -= emList[i - 14]\n    }\n    sumEmv += emv\n    if (i < 9) {\n      maEmv = sumEmv / (i + 1)\n    } else {\n      sumEmv -= data[i - 9].emv.emv\n      maEmv = sumEmv / 9\n    }\n    data[i].emv = { emv, maEmv }\n  }\n  return data\n}\n\n/**\n * 计算sar\n * @param data\n * @return\n */\nexport function calculationSar (data) {\n  // 加速因子\n  let af = 0\n  // 极值\n  let ep = -100\n  // 判断是上涨还是下跌  false：下跌\n  let isIncreasing = false\n  let sar = 0\n\n  let totalTurnover = 0\n  let totalVolume = 0\n\n  for (let i = 0; i < data.length; i++) {\n    let turnover = data[i].turnover\n    totalVolume += data[i].volume\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      data[i].averagePrice = totalTurnover / totalVolume\n    }\n\n    // 上一个周期的sar\n    let preSar = sar\n    let highestPrice = data[i].high\n    let lowestPrice = data[i].low\n    if (isIncreasing) {\n      // 上涨\n      if (ep === -100 || ep < highestPrice) {\n        // 重新初始化值\n        ep = highestPrice\n        af = Math.min(af + 0.02, 2)\n      }\n      sar = preSar + af * (ep - preSar)\n      let lowestPriceMin = Math.min(data[Math.max(1, i) - 1].low, lowestPrice)\n      if (sar > data[i].low) {\n        sar = ep\n        // 重新初始化值\n        af = 0\n        ep = -100\n        isIncreasing = !isIncreasing\n      } else if (sar > lowestPriceMin) {\n        sar = lowestPriceMin\n      }\n    } else {\n      if (ep === -100 || ep > lowestPrice) {\n        // 重新初始化值\n        ep = lowestPrice\n        af = Math.min(af + 0.02, 0.2)\n      }\n      sar = preSar + af * (ep - preSar)\n      let highestPriceMax = Math.max(data[Math.max(1, i) - 1].high, highestPrice)\n      if (sar < data[i].high) {\n        sar = ep\n        // 重新初始化值\n        af = 0\n        ep = -100\n        isIncreasing = !isIncreasing\n      } else if (sar < highestPriceMax) {\n        sar = highestPriceMax\n      }\n    }\n    data[i].sar = { sar }\n  }\n  return data\n}\n\n/**\n * 计算布林指标中的标准差\n *\n * @param list\n * @param ma\n * @return\n */\nfunction getBollMd (list, ma) {\n  let sum = 0\n  for (let i = 0; i < list.length; i++) {\n    let closeMa = list[i].close - ma\n    sum += closeMa * closeMa\n  }\n  let b = sum > 0\n  sum = Math.abs(sum)\n  let md = Math.sqrt(sum / list.length)\n  return b ? md : -1 * md\n}\n\n/**\n * 获取list中的最大的最高价\n *\n * @param list\n * @return\n */\nfunction getHigh (list) {\n  let high = 0\n  if (list && list.length > 0) {\n    let size = list.length\n    high = list[0].high\n    for (let i = 1; i < size; i++) {\n      high = Math.max(list[i].high, high)\n    }\n  }\n  return high\n}\n\n/**\n * 获取list中的最小的最低价\n *\n * @param list\n * @return\n */\nfunction getLow (list) {\n  let low = 0\n  if (list && list.length > 0) {\n    let size = list.length\n    low = list[0].low\n    for (let i = 1; i < size; i++) {\n      low = Math.min(list[i].low, low)\n    }\n  }\n  return low\n}\n","import ViewPortHandler from '../internal/ViewPortHandler'\nimport DataBounds from '../internal/DataBounds'\nimport GridChart from './GridChart'\nimport CandleChart from './CandleChart'\nimport IndicatorChart from './IndicatorChart'\nimport XAxisChart from './XAxisChart'\nimport TooltipChart from './TooltipChart'\nimport YAxis, { YAxisPosition } from '../component/YAxis'\nimport XAxis from '../component/XAxis'\nimport Candle from '../component/Candle'\nimport Indicator, { IndicatorType } from '../component/Indicator'\nimport Tooltip from '../component/Tooltip'\nimport Grid from '../component/Grid'\n\nimport MouseEvent from '../internal/event/MouseEvent'\nimport TouchEvent from '../internal/event/TouchEvent'\nimport * as IndicatorCalculation from '../utils/indicatorCalculation'\n\nconst isMobile = /Android|webOS|iPhone|iPod|BlackBerry|UCBrowser/i.test(navigator.userAgent)\n\nclass KLineChart {\n  constructor (dom) {\n    this.rootDom = dom\n    this.domWidth = 0\n    this.domHeight = 0\n    this.canvas = null\n    this.canvasDom = null\n    this.viewPortHandler = new ViewPortHandler()\n    this.dataBounds = new DataBounds(this.viewPortHandler)\n    this.grid = new Grid()\n    this.yAxis = new YAxis()\n    this.xAxis = new XAxis()\n    this.candle = new Candle()\n    this.indicator = new Indicator()\n    this.tooltip = new Tooltip()\n    this.gridChart = new GridChart(this.grid, this.dataBounds, this.viewPortHandler)\n    this.candleChart = new CandleChart(this.candle, this.indicator, this.yAxis, this.dataBounds, this.viewPortHandler)\n    this.volChart = new IndicatorChart(this.indicator, this.xAxis, this.yAxis, this.dataBounds, this.viewPortHandler, IndicatorType.VOL)\n    this.indicatorChart = new IndicatorChart(this.indicator, this.xAxis, this.yAxis, this.dataBounds, this.viewPortHandler)\n    this.xAxisChart = new XAxisChart(this.xAxis, this.dataBounds, this.viewPortHandler)\n    this.tooltipChart = new TooltipChart(\n      this.tooltip,\n      this.candle,\n      this.indicator,\n      this.yAxis,\n      this.candleChart,\n      this.volChart,\n      this.indicatorChart,\n      this.dataBounds,\n      this.viewPortHandler\n    )\n    this.motionEvent = isMobile\n      ? new TouchEvent(this, this.dataBounds, this.viewPortHandler)\n      : new MouseEvent(this, this.dataBounds, this.viewPortHandler)\n    // 是否需要计算整个绘图区域的尺寸\n    this.isShouldCalcOffset = true\n    // 是否需要计算图的高度\n    this.isShouldCalcChartHeight = true\n    this.init()\n  }\n\n  /**\n   * 初始化\n   * @param dom\n   */\n  init () {\n    this.canvasDom = document.createElement('canvas')\n    try {\n      if (isMobile) {\n        this.canvasDom.addEventListener('touchstart', (e) => { this.motionEvent.touchStart(e) }, false)\n        this.canvasDom.addEventListener('touchmove', (e) => { this.motionEvent.touchMove(e) }, false)\n        this.canvasDom.addEventListener('touchend', (e) => { this.motionEvent.touchEnd(e) }, false)\n      } else {\n        this.canvasDom.addEventListener('mousedown', (e) => { this.motionEvent.mouseDown(e) })\n        this.canvasDom.addEventListener('mouseup', (e) => { this.motionEvent.mouseUp(e) })\n        this.canvasDom.addEventListener('mousemove', (e) => { this.motionEvent.mouseMove(e) })\n        this.canvasDom.addEventListener('mouseleave', (e) => { this.motionEvent.mouseLeave(e) })\n        // IE9, Chrome, Safari, Opera\n        this.canvasDom.addEventListener('mousewheel', (e) => { this.motionEvent.mouseWheel(e) }, false)\n        // Firefox\n        this.canvasDom.addEventListener('DOMMouseScroll', (e) => { this.motionEvent.mouseWheel(e) }, false)\n      }\n    } catch (e) {}\n    this.rootDom.appendChild(this.canvasDom)\n    this.resize()\n  }\n\n  /**\n   * 改变尺寸\n   */\n  resize () {\n    this.isShouldCalcOffset = true\n    this.domWidth = this.rootDom.offsetWidth * 2\n    this.domHeight = this.rootDom.offsetHeight * 2\n    this.canvasDom.style.width = this.rootDom.offsetWidth + 'px'\n    this.canvasDom.style.height = this.rootDom.offsetHeight + 'px'\n    this.freshen()\n  }\n\n  /**\n   * 设置配置\n   * @param config\n   */\n  setConfig (config) {\n    if (config) {\n      let common = config.common\n      if (common) {\n        if (common.minVisibleRange > 0) {\n          this.dataBounds.minRange = common.minVisibleRange\n        }\n        if (common.maxVisibleRange > 0 && common.maxVisibleRange > this.dataBounds.minRange) {\n          this.dataBounds.maxRange = common.maxVisibleRange\n        }\n        if (common.defaultVisibleRange > 0 &&\n          common.defaultVisibleRange > this.dataBounds.minRange - 1 &&\n          common.defaultVisibleRange < this.dataBounds.maxRange + 1) {\n          this.dataBounds.range = common.defaultVisibleRange\n        }\n      }\n      let grid = config.grid\n      if (grid) {\n        this.grid.display = grid.display\n        if (grid.lineSize > 0) {\n          this.grid.lineSize = grid.lineSize\n        }\n        if (grid.lineColor) {\n          this.grid.lineColor = grid.lineColor\n        }\n      }\n      let candle = config.candle\n      if (candle) {\n        if (candle.chartType) {\n          this.candle.chartStyle = candle.chartType\n        }\n        if (candle.timeChart) {\n          this.candle.timeChart = { ...this.candle.timeChart, ...candle.timeChart }\n        }\n        if (candle.candleChart) {\n          this.candle.candleChart = { ...this.candle.candleChart, ...candle.candleChart }\n        }\n        if (candle.lowestHighestPriceMarkTextColor) {\n          this.candle.lowestHighestPriceMarkTextColor = candle.lowestHighestPriceMarkTextColor\n        }\n        if (candle.lowestHighestPriceMarkTextSize > 0) {\n          this.candle.lowestHighestPriceMarkTextSize = candle.lowestHighestPriceMarkTextSize\n        }\n        this.candle.lowestHighestValueFormatter = candle.lowestHighestValueFormatter\n        if (candle.highestPriceMark) {\n          this.candle.highestPriceMark = { ...this.candle.highestPriceMark, ...candle.highestPriceMark }\n        }\n        if (candle.lowestPriceMark) {\n          this.candle.lowestPriceMark = { ...this.candle.lowestPriceMark, ...candle.lowestPriceMark }\n        }\n        if (candle.lastPriceMark) {\n          this.candle.lastPriceMark = { ...this.candle.lastPriceMark, ...candle.lastPriceMark }\n        }\n      }\n      let indicator = config.indicator\n      if (indicator) {\n        if (indicator.lineSize > 0) {\n          this.indicator.lineSize = indicator.lineSize\n        }\n        if (indicator.increasingColor) {\n          this.indicator.increasingColor = indicator.increasingColor\n        }\n        if (indicator.decreasingColor) {\n          this.indicator.decreasingColor = indicator.decreasingColor\n        }\n        if (indicator.lineColors && indicator.lineColors.length > 4) {\n          this.indicator.lineColors = indicator.lineColors\n        }\n      }\n      let xAxis = config.xAxis\n      if (xAxis) {\n        this.xAxis.display = xAxis.display\n        if (this.xAxis.color) {\n          this.xAxis.color = xAxis.color\n        }\n        if (xAxis.minHeight >= 0) {\n          this.xAxis.xAxisMinHeight = xAxis.minHeight\n        }\n        if (xAxis.maxHeight >= 0 && xAxis.maxHeight >= this.xAxis.xAxisMinHeight) {\n          this.xAxis.xAxisMaxHeight = xAxis.maxHeight\n        }\n        if (xAxis.axisLine) {\n          this.xAxis.axisLine = { ...this.xAxis.axisLine, ...xAxis.axisLine }\n        }\n        if (xAxis.tickText) {\n          this.xAxis.tickText = { ...this.xAxis.tickText, ...xAxis.tickText }\n        }\n        if (xAxis.tickLine) {\n          this.xAxis.tickLine = { ...this.xAxis.tickLine, ...xAxis.tickLine }\n        }\n        if (xAxis.separatorLine) {\n          this.xAxis.separatorLine = { ...this.xAxis.separatorLine, ...xAxis.separatorLine }\n        }\n      }\n      let yAxis = config.yAxis\n      if (yAxis) {\n        this.yAxis.display = yAxis.display\n        if (yAxis.position) {\n          this.yAxis.yAxisPosition = yAxis.position\n          this.isShouldCalcOffset = true\n        }\n        if (this.yAxis.color) {\n          this.yAxis.color = yAxis.color\n        }\n        if (yAxis.minWidth >= 0) {\n          this.yAxis.yAxisMinWidth = yAxis.minWidth\n        }\n        if (yAxis.maxWidth >= 0 && yAxis.maxWidth >= this.yAxis.yAxisMinWidth) {\n          this.yAxis.yAxisMaxWidth = yAxis.maxWidth\n        }\n        if (yAxis.axisLine) {\n          this.yAxis.axisLine = { ...this.yAxis.axisLine, ...yAxis.axisLine }\n        }\n        if (yAxis.tickText) {\n          this.yAxis.tickText = { ...this.yAxis.tickText, ...yAxis.tickText }\n          this.isShouldCalcOffset = true\n        }\n        if (yAxis.tickLine) {\n          this.yAxis.tickLine = { ...this.yAxis.tickLine, ...yAxis.tickLine }\n        }\n        if (yAxis.separatorLine) {\n          this.yAxis.separatorLine = { ...this.yAxis.separatorLine, ...yAxis.separatorLine }\n        }\n      }\n      let tooltip = config.tooltip\n      if (tooltip) {\n        if (tooltip.textSize > 0) {\n          this.tooltip.textSize = tooltip.textSize\n        }\n        if (tooltip.crossLine) {\n          if (tooltip.crossLine.text) {\n            tooltip.crossLine.text = { ...this.tooltip.crossLine.text, ...tooltip.crossLine.text }\n          }\n          this.tooltip.crossLine = { ...this.tooltip.crossLine, ...tooltip.crossLine }\n        }\n        if (tooltip.generalData) {\n          if (tooltip.generalData.text) {\n            tooltip.generalData.text = { ...this.tooltip.generalData.text, ...tooltip.generalData.text }\n          }\n          this.tooltip.generalData = { ...this.tooltip.generalData, ...tooltip.generalData }\n        }\n        if (tooltip.indicatorData) {\n          if (tooltip.indicatorData.text) {\n            tooltip.indicatorData.text = { ...this.tooltip.indicatorData.text, ...tooltip.indicatorData.text }\n          }\n          this.tooltip.indicatorData = { ...this.tooltip.indicatorData, ...tooltip.indicatorData }\n        }\n      }\n      this.freshen()\n    }\n  }\n\n  /**\n   * 计算图表高度\n   */\n  calcChartHeight (domHeight) {\n    let xChartHeight = this.xAxis.getRequiredHeightSpace()\n    let chartHeight = domHeight - xChartHeight\n    let isDisplayVolChart = this.isDisplayVolChart()\n    let isDisplayIndicatorChart = this.isDisplayIndicatorChart()\n    let volChartHeight = 0\n    let indicatorChartHeight = 0\n\n    if (isDisplayVolChart && isDisplayIndicatorChart) {\n      let height = chartHeight * 0.2\n      volChartHeight = height\n      indicatorChartHeight = height\n    } else if (isDisplayVolChart && !isDisplayIndicatorChart) {\n      volChartHeight = chartHeight * 0.3\n    } else if (!isDisplayVolChart && isDisplayIndicatorChart) {\n      indicatorChartHeight = chartHeight * 0.3\n    }\n\n    let candleChartHeight = chartHeight - volChartHeight - indicatorChartHeight\n    let contentTop = 0\n    this.candleChart.setChartDimens(candleChartHeight, contentTop)\n\n    contentTop += candleChartHeight\n    this.volChart.setChartDimens(volChartHeight, contentTop)\n\n    contentTop += volChartHeight\n    this.indicatorChart.setChartDimens(indicatorChartHeight, contentTop)\n\n    contentTop += indicatorChartHeight\n    this.xAxisChart.setChartDimens(xChartHeight, contentTop)\n  }\n\n  /**\n   * 计算不包括x轴y轴的绘制区域的尺寸\n   */\n  calcOffsets () {\n    let offsetLeft = 0\n    let offsetRight = 0\n    let offsetTop = 0\n    let offsetBottom = 0\n    if (this.yAxis.needsOffset()) {\n      // 计算y轴最大宽度\n      let yAxisRequireWidthSpace = this.yAxis.getRequiredWidthSpace()\n      if (this.yAxis.yAxisPosition === YAxisPosition.LEFT) {\n        offsetLeft += yAxisRequireWidthSpace\n      } else {\n        offsetRight += yAxisRequireWidthSpace\n      }\n    }\n\n    let requireXAxisHeight = this.xAxis.getRequiredHeightSpace()\n    offsetBottom += requireXAxisHeight\n\n    this.viewPortHandler.restrainViewPort(\n      offsetLeft, offsetTop, offsetRight, offsetBottom\n    )\n  }\n\n  /**\n   * 刷新\n   */\n  freshen () {\n    this.canvasDom.width = this.domWidth\n    this.canvasDom.height = this.domHeight\n    this.canvas = this.canvasDom.getContext('2d')\n    if (this.isShouldCalcChartHeight) {\n      this.calcChartHeight(this.domHeight)\n      this.isShouldCalcChartHeight = false\n    }\n    if (this.isShouldCalcOffset) {\n      this.viewPortHandler.setChartDimens(this.domWidth, this.domHeight)\n      this.calcOffsets()\n      this.isShouldCalcOffset = false\n    }\n    this.draw()\n  }\n\n  /**\n   * 绘制\n   */\n  draw () {\n    this.dataBounds.space()\n    this.gridChart.draw(this.canvas)\n    this.xAxisChart.draw(this.canvas)\n    this.candleChart.draw(this.canvas)\n    this.volChart.draw(this.canvas)\n    this.indicatorChart.draw(this.canvas)\n    this.tooltipChart.draw(this.canvas)\n  }\n\n  /**\n   * 计算指标数据\n   * @param indicatorType Int\n   */\n  calcIndicator (indicatorType) {\n    switch (indicatorType) {\n      case IndicatorType.MA: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationMa(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.MACD: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationMacd(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.VOL: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationVol(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.BOLL: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationBoll(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.BIAS: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationBias(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.BRAR: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationBrar(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.CCI: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationCci(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.CR: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationCr(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.DMA: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationDma(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.DMI: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationDmi(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.KDJ: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationKdj(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.KD: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationKdj(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.RSI: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationRsi(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.PSY: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationPsy(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.TRIX: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationTrix(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.OBV: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationObv(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.VR: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationVr(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.WR: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationWr(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.MTM: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationMtm(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.EMV: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationEmv(this.dataBounds.dataList)\n        break\n      }\n      case IndicatorType.SAR: {\n        this.dataBounds.dataList = IndicatorCalculation.calculationSar(this.dataBounds.dataList)\n        break\n      }\n    }\n  }\n\n  /**\n   * 计算各图指标\n   */\n  calcChartIndicator () {\n    if (this.candleChart.isDisplayChart()) {\n      this.calcIndicator(this.candleChart.indicatorType)\n    }\n    if (this.isDisplayVolChart()) {\n      this.calcIndicator(IndicatorType.VOL)\n    }\n    if (this.isDisplayIndicatorChart()) {\n      this.calcIndicator(this.indicatorChart.indicatorType)\n    }\n    this.freshen()\n  }\n\n  /**\n   * 设置数据\n   * @param dataList\n   */\n  setDataList (dataList) {\n    this.dataBounds.dataList = dataList\n    this.dataBounds.moveToLast()\n    this.calcChartIndicator()\n    this.freshen()\n  }\n\n  /**\n   * 设置主指标类型\n   * @param indicatorType\n   */\n  setMainIndicatorType (indicatorType) {\n    if (this.candleChart.indicatorType !== indicatorType) {\n      this.candleChart.indicatorType = indicatorType\n      this.calcIndicator(indicatorType)\n      this.freshen()\n    }\n  }\n\n  /**\n   * 设置副指标类型\n   * @param indicatorType\n   */\n  setSubIndicatorType (indicatorType) {\n    if (this.indicatorChart.indicatorType !== indicatorType) {\n      let shouldCalcChartHeight = (this.isDisplayIndicatorChart() && indicatorType === IndicatorType.NO) ||\n        (!this.isDisplayIndicatorChart() && indicatorType !== IndicatorType.NO)\n      this.indicatorChart.indicatorType = indicatorType\n      if (shouldCalcChartHeight) {\n        this.isShouldCalcChartHeight = true\n      }\n      this.calcIndicator(indicatorType)\n      this.freshen()\n    }\n  }\n\n  /**\n   * 设置是否显示vol指标\n   * @param isShow Boolean\n   */\n  setShowVolIndicatorChart (isShow) {\n    if (this.isDisplayVolChart() !== isShow) {\n      if (isShow) {\n        this.volChart.indicatorType = IndicatorType.VOL\n        this.calcIndicator(IndicatorType.VOL)\n      } else {\n        this.volChart.indicatorType = IndicatorType.NO\n      }\n      this.isShouldCalcChartHeight = true\n      this.freshen()\n    }\n  }\n\n  isDisplayVolChart () {\n    return this.volChart.isDisplayChart()\n  }\n\n  isDisplayIndicatorChart () {\n    return this.indicatorChart.isDisplayChart()\n  }\n}\n\nexport default KLineChart\n","import KLineChart from './chart/KLineChart'\nimport { LineStyle } from './component/Component'\nimport { ChartStyle, CandleStyle } from './component/Candle'\nimport { IndicatorType } from './component/Indicator'\nimport { YAxisTextPosition, YAxisPosition } from './component/YAxis'\nimport { IndicatorDisplayRule } from './component/Tooltip'\n\nexport { LineStyle, ChartStyle, CandleStyle, IndicatorType, YAxisTextPosition, YAxisPosition, IndicatorDisplayRule }\n\nconst kline = {\n  init (dom) {\n    return new KLineChart(dom)\n  }\n}\nexport default kline\n"],"sourceRoot":""}